<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.0</version>
    <date>2020-11-25T12:39:30Z</date>
    <groups>
        <group>
            <name>Service.Backup</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Adaptec RAID Controller Template_Backup</template>
            <name>Adaptec RAID Controller Template_Backup</name>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <discovery_rules>
                <discovery_rule>
                    <name>Adaptec Controllers Discovery</name>
                    <key>adaptec.raid[lld,ad]</key>
                    <delay>1h</delay>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Adaptec Controller No.{#CTRL.ID} state</name>
                            <key>adaptec.raid[health,ad,{#CTRL.ID},main]</key>
                            <delay>10m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Adaptec Controllers</name>
                                </application_prototype>
                            </application_prototypes>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{regexp(Optimal)}=0</expression>
                                    <name>Adaptec Controller No.{#CTRL.ID} Status</name>
                                    <priority>INFO</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Adaptec Controller No.{#CTRL.ID} Temperature</name>
                            <key>adaptec.raid[health,ad,{#CTRL.ID},temperature]</key>
                            <delay>10m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Adaptec Controllers</name>
                                </application_prototype>
                            </application_prototypes>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&gt;85</expression>
                                    <name>Adaptec Controller No.{#CTRL.ID} Temperature</name>
                                    <priority>INFO</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Adaptec Battery No.{#CTRL.ID} state</name>
                    <key>adaptec.raid[lld,bt]</key>
                    <delay>1h</delay>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Adaptec Battery No.{#CTRL.ID} state</name>
                            <key>adaptec.raid[health,ad,{#CTRL.ID},battery]</key>
                            <delay>10m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{regexp(Optimal)}=0</expression>
                                    <name>Adaptec Battery No.$CTRL.ID} Status</name>
                                    <priority>INFO</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Adaptec Logical Drives Discovery</name>
                    <key>adaptec.raid[lld,ld]</key>
                    <delay>1h</delay>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Adaptec Logical Drive {#CTRL.ID}:{#LD.NAME} state</name>
                            <key>adaptec.raid[health,ld,{#CTRL.ID},{#LD.ID}]</key>
                            <delay>15m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Adaptec Logical Drives</name>
                                </application_prototype>
                            </application_prototypes>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{regexp(Optimal)}=0</expression>
                                    <name>Adaptec Logical Drive {#LD.NAME} status</name>
                                    <priority>INFO</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Adaptec Physical Drives Discovery</name>
                    <key>adaptec.raid[lld,pd]</key>
                    <delay>1h</delay>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Adaptec Physical Drive {#CTRL.ID}:{#PD.ID} state</name>
                            <key>adaptec.raid[health,pd,{#CTRL.ID},{#PD.ID}]</key>
                            <delay>15m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Adaptec Physical Drives</name>
                                </application_prototype>
                            </application_prototypes>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{regexp(Online)}=0 and {regexp(Hot Spare)}=0</expression>
                                    <name>Adaptec Physical Drive {#CTRL.ID}:{#PD.ID} Status</name>
                                    <priority>INFO</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
        <template>
            <template>HP Smart Array Monitoring_Backup</template>
            <name>HP Smart Array Monitoring_Backup</name>
            <description>Discover and monitor HP Smart Array Controllers on Windows with PowerShell.</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>HP Smart Array Controllers</name>
                </application>
                <application>
                    <name>HP Smart Array Logical Drives</name>
                </application>
                <application>
                    <name>HP Smart Array Physical Drives</name>
                </application>
            </applications>
            <discovery_rules>
                <discovery_rule>
                    <name>HP Smart Array Controller Discovery</name>
                    <key>hp.smartarray[lld,ctrl]</key>
                    <delay>1h</delay>
                    <lifetime>1d</lifetime>
                    <description>Discovery all HP Smart Array Controllers on the server.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Smart Array Controller Battery status</name>
                            <key>hp.smartarray[health,ctrl,{#CTRL.SLOT},batt]</key>
                            <delay>{$UPDATE}</delay>
                            <history>{$HISTORY}</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <description>{#CTRL.MODEL} with s/n {#CTRL.SN}  in slot {#CTRL.SLOT} battery status.</description>
                            <applications>
                                <application>
                                    <name>HP Smart Array Controllers</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#5,OK,ne)}&gt;3</expression>
                                    <name>Smart Array Controller Battery status</name>
                                    <priority>INFO</priority>
                                    <description>Battery status on controller {#CTRL.MODEL} on state {ITEM.LASTVALUE}.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Smart Array Controller Cache status</name>
                            <key>hp.smartarray[health,ctrl,{#CTRL.SLOT},cache]</key>
                            <delay>{$UPDATE}</delay>
                            <history>{$HISTORY}</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <description>{#CTRL.MODEL} with s/n {#CTRL.SN}  in slot {#CTRL.SLOT} cache status.</description>
                            <applications>
                                <application>
                                    <name>HP Smart Array Controllers</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#5,OK,ne)}&gt;3</expression>
                                    <name>Smart Array Controller Cache status</name>
                                    <priority>INFO</priority>
                                    <description>Cache status on controller {#CTRL.MODEL} on state {ITEM.LASTVALUE}.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Smart Array Controller Main status</name>
                            <key>hp.smartarray[health,ctrl,{#CTRL.SLOT},main]</key>
                            <delay>{$UPDATE}</delay>
                            <history>{$HISTORY}</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <description>{#CTRL.MODEL} with s/n {#CTRL.SN}  in slot {#CTRL.SLOT} main status.</description>
                            <applications>
                                <application>
                                    <name>HP Smart Array Controllers</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#5,OK,ne)}&gt;3</expression>
                                    <name>Smart Array Controller Main status</name>
                                    <priority>HIGH</priority>
                                    <description>Main status of controller {#CTRL.MODEL} on state {ITEM.LASTVALUE}.</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>HP Smart Array Logical Drives Discovery</name>
                    <key>hp.smartarray[lld,ld]</key>
                    <delay>1h</delay>
                    <lifetime>1d</lifetime>
                    <description>Discover of all logical drives on Smart Array Controller.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Logical Drive {#LD.NUM} Status</name>
                            <key>hp.smartarray[health,ld,{#CTRL.SLOT},{#LD.NUM}]</key>
                            <delay>{$UPDATE}</delay>
                            <history>{$HISTORY}</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <description>Status of Logical Drive {#LD.NUM} with capacity of {#LD.CAPACITY}.</description>
                            <applications>
                                <application>
                                    <name>HP Smart Array Logical Drives</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#5,OK,ne)}&gt;3</expression>
                                    <name>Smart Array Controller Logical Drive {#LD.NUM} status</name>
                                    <priority>INFO</priority>
                                    <description>Logical Drive {#LD.NUM} with capacity {#LD.CAPACITY} status is {ITEM.LASTVALUE}.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>HP Smart Array Physical Drives Discovery</name>
                    <key>hp.smartarray[lld,pd]</key>
                    <delay>1h</delay>
                    <lifetime>1d</lifetime>
                    <description>Discovery all physical drives on HP Smart Array Controller.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Physical Drive {#PD.NUM} Status</name>
                            <key>hp.smartarray[health,pd,{#CTRL.SLOT},&quot;{#PD.NUM}&quot;]</key>
                            <delay>{$UPDATE}</delay>
                            <history>{$HISTORY}</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <description>Status of Physical Drive {#PD.NUM} on controller in slot {#CTRL.SLOT}.</description>
                            <applications>
                                <application>
                                    <name>HP Smart Array Physical Drives</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#5,OK,ne)}&gt;3</expression>
                                    <name>Smart Array Controller Physical Drive {#PD.NUM} status</name>
                                    <priority>HIGH</priority>
                                    <description>Physical Drive {#PD.NUM} status is {ITEM.LASTVALUE}.</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$HISTORY}</macro>
                    <value>7d</value>
                </macro>
                <macro>
                    <macro>{$UPDATE}</macro>
                    <value>10m</value>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template LSI RAID_backup</template>
            <name>Template LSI RAID (agent + trapper)_backup</name>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>LSI RAID adapter</name>
                </application>
                <application>
                    <name>LSI RAID BBU</name>
                </application>
                <application>
                    <name>LSI RAID Logical Volume</name>
                </application>
                <application>
                    <name>LSI RAID Physical Volume</name>
                </application>
            </applications>
            <discovery_rules>
                <discovery_rule>
                    <name>RAID discovery adapters</name>
                    <type>TRAP</type>
                    <key>hw.raid.discovery.adapters</key>
                    <delay>0</delay>
                    <status>DISABLED</status>
                    <item_prototypes>
                        <item_prototype>
                            <name>Adapter {#ADAPTER_ID} firmware</name>
                            <key>hw.raid.adapter[{#ADAPTER_ID},&quot;fw_version&quot;]</key>
                            <delay>86400</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>LSI RAID adapter</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Adapter {#ADAPTER_ID} model</name>
                            <key>hw.raid.adapter[{#ADAPTER_ID},&quot;product_name&quot;]</key>
                            <delay>86400</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>LSI RAID adapter</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>RAID discovery bbu</name>
                    <type>TRAP</type>
                    <key>hw.raid.discovery.bbu</key>
                    <delay>0</delay>
                    <item_prototypes>
                        <item_prototype>
                            <name>BBU state on adapter:{#ADAPTER_ID}</name>
                            <type>TRAP</type>
                            <key>hw.raid.bbu[{#ADAPTER_ID},&quot;bbu_state&quot;]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <allowed_hosts>{$ALLOWED_HOSTS}</allowed_hosts>
                            <applications>
                                <application>
                                    <name>LSI RAID BBU</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>LSI RAID BBU &amp; LD Status</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=1</expression>
                                    <name>BBU is not in optimal state on adapter:{#ADAPTER_ID}</name>
                                    <priority>HIGH</priority>
                                    <description>Backup Battery Unit on RAID adapter is not in operational state. RAID volumes performance can be degraded</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{nodata(2400)}=1</expression>
                                    <name>RAID info is outdated on {HOST.NAME}</name>
                                    <priority>HIGH</priority>
                                    <description>RAID INFO not updated more than 35 minutes. Check task scheduler on host and connectivity</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>BBU on adapter {#ADAPTER_ID}:manufacture date</name>
                            <key>hw.raid.bbu[{#ADAPTER_ID},&quot;date_manufactured&quot;]</key>
                            <delay>86400</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>LSI RAID BBU</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>BBU design capacity on adapter:{#ADAPTER_ID}</name>
                            <key>hw.raid.bbu[{#ADAPTER_ID},&quot;design_capacity&quot;]</key>
                            <delay>86400</delay>
                            <history>1d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <applications>
                                <application>
                                    <name>LSI RAID BBU</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>BBU current capacity on adapter:{#ADAPTER_ID}</name>
                            <key>hw.raid.bbu[{#ADAPTER_ID},&quot;full_capacity&quot;]</key>
                            <delay>300</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <applications>
                                <application>
                                    <name>LSI RAID BBU</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>BBU state of charge on adapter:{#ADAPTER_ID}</name>
                            <type>TRAP</type>
                            <key>hw.raid.bbu[{#ADAPTER_ID},&quot;state_of_charge&quot;]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <allowed_hosts>{$ALLOWED_HOSTS}</allowed_hosts>
                            <units>%</units>
                            <applications>
                                <application>
                                    <name>LSI RAID BBU</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{avg(#3)}&lt;55</expression>
                                    <name>BBU on adapter:{#ADAPTER_ID} charge capacity degraded</name>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>RAID discovery pdisks</name>
                    <type>TRAP</type>
                    <key>hw.raid.discovery.pdisks</key>
                    <delay>0</delay>
                    <item_prototypes>
                        <item_prototype>
                            <name>Disk state Adapter:{#ADAPTER_ID},ENC:{#ENCLOSURE_ID},Disk:{#PDRIVE_ID}</name>
                            <type>TRAP</type>
                            <key>hw.raid.physical_disk[{#ADAPTER_ID},{#ENCLOSURE_ID},{#PDRIVE_ID},&quot;firmware_state&quot;]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <allowed_hosts>{$ALLOWED_HOSTS}</allowed_hosts>
                            <applications>
                                <application>
                                    <name>LSI RAID Physical Volume</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>LSI RAID PhysDrv Status</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=1</expression>
                                    <name>Disk state Adapter:{#ADAPTER_ID},ENC:{#ENCLOSURE_ID},Disk:{#PDRIVE_ID} is not Optimal</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=2</expression>
                                    <name>Disk state Adapter:{#ADAPTER_ID},ENC:{#ENCLOSURE_ID},Disk:{#PDRIVE_ID} is Rebuild</name>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Disk model Adapter:{#ADAPTER_ID},ENC:{#ENCLOSURE_ID},Disk:{#PDRIVE_ID}</name>
                            <key>hw.raid.physical_disk[{#ADAPTER_ID},{#ENCLOSURE_ID},{#PDRIVE_ID},&quot;inquiry_data&quot;]</key>
                            <delay>86400</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>LSI RAID Physical Volume</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Disk Media errors Adapter:{#ADAPTER_ID},ENC:{#ENCLOSURE_ID},Disk:{#PDRIVE_ID}</name>
                            <type>TRAP</type>
                            <key>hw.raid.physical_disk[{#ADAPTER_ID},{#ENCLOSURE_ID},{#PDRIVE_ID},&quot;media_errors&quot;]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <allowed_hosts>{$ALLOWED_HOSTS}</allowed_hosts>
                            <applications>
                                <application>
                                    <name>LSI RAID Physical Volume</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(0)}&lt;&gt;0</expression>
                                    <name>Disk have media errors Adapter:{#ADAPTER_ID},ENC:{#ENCLOSURE_ID},Disk:{#PDRIVE_ID}</name>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Disk predictive errors Adapter:{#ADAPTER_ID},ENC:{#ENCLOSURE_ID},Disk:{#PDRIVE_ID}</name>
                            <type>TRAP</type>
                            <key>hw.raid.physical_disk[{#ADAPTER_ID},{#ENCLOSURE_ID},{#PDRIVE_ID},&quot;predictive_errors&quot;]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <allowed_hosts>{$ALLOWED_HOSTS}</allowed_hosts>
                            <applications>
                                <application>
                                    <name>LSI RAID Physical Volume</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(0)}&lt;&gt;0</expression>
                                    <name>Disk have predictive errors Adapter:{#ADAPTER_ID},ENC:{#ENCLOSURE_ID},Disk:{#PDRIVE_ID}</name>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Disk size Adapter:{#ADAPTER_ID},ENC:{#ENCLOSURE_ID},Disk:{#PDRIVE_ID}</name>
                            <key>hw.raid.physical_disk[{#ADAPTER_ID},{#ENCLOSURE_ID},{#PDRIVE_ID},&quot;raw_size&quot;]</key>
                            <delay>86400</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>LSI RAID Physical Volume</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>RAID discovery vdisks</name>
                    <type>TRAP</type>
                    <key>hw.raid.discovery.vdisks</key>
                    <delay>0</delay>
                    <status>DISABLED</status>
                    <item_prototypes>
                        <item_prototype>
                            <name>RAID Volume size Adapter:{#ADAPTER_ID},ID:{#VDRIVE_ID}</name>
                            <key>hw.raid.logical_disk[{#ADAPTER_ID},{#VDRIVE_ID},&quot;vd_size&quot;]</key>
                            <delay>86400</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>LSI RAID Logical Volume</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>RAID Volume state Adapter:{#ADAPTER_ID},ID:{#VDRIVE_ID}</name>
                            <type>TRAP</type>
                            <key>hw.raid.logical_disk[{#ADAPTER_ID},{#VDRIVE_ID},&quot;vd_state&quot;]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <applications>
                                <application>
                                    <name>LSI RAID Logical Volume</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>LSI RAID BBU &amp; LD Status</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=1</expression>
                                    <name>RAID Volume Adapter:{#ADAPTER_ID},ID:{#VDRIVE_ID} state is not Optimal</name>
                                    <priority>HIGH</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$ALLOWED_HOSTS}</macro>
                    <value>10.5.200.40</value>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template Module Generic SNMPv2_Backups</template>
            <name>Template Module Generic SNMPv2_Backups</name>
            <description>Template Module Generic version: 0.15&#13;
MIBs used:&#13;
SNMPv2-MIB</description>
            <templates>
                <template>
                    <name>Template Module ICMP Ping_Backups</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>General</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>SNMP traps (fallback)</name>
                    <type>SNMP_TRAP</type>
                    <key>snmptrap.fallback</key>
                    <delay>5m</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <value_type>LOG</value_type>
                    <description>Item is used to collect all SNMP traps unmatched by other snmptrap items</description>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <logtimefmt>hh:mm:sszyyyy/MM/dd</logtimefmt>
                </item>
                <item>
                    <name>Device contact details</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.4.0</snmp_oid>
                    <key>system.contact</key>
                    <delay>1h</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: SNMPv2-MIB&#13;
The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.</description>
                    <inventory_link>CONTACT</inventory_link>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Device description</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.1.0</snmp_oid>
                    <key>system.descr</key>
                    <delay>1h</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: SNMPv2-MIB&#13;
A textual description of the entity.  This value should&#13;
include the full name and version identification of the system's hardware type, software operating-system, and&#13;
networking software.</description>
                    <inventory_link>HARDWARE</inventory_link>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Device location</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.6.0</snmp_oid>
                    <key>system.location</key>
                    <delay>1h</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: SNMPv2-MIB&#13;
The physical location of this node (e.g., `telephone closet, 3rd floor').  If the location is unknown, the value is the zero-length string.</description>
                    <inventory_link>LOCATION</inventory_link>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Device name</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.5.0</snmp_oid>
                    <key>system.name</key>
                    <delay>1h</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: SNMPv2-MIB&#13;
An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.</description>
                    <inventory_link>NAME</inventory_link>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>System object ID</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.2.0</snmp_oid>
                    <key>system.objectid</key>
                    <delay>1h</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: SNMPv2-MIB&#13;
The vendor's authoritative identification of the network management subsystem contained in the entity.  This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.</description>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Device uptime</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.3.0</snmp_oid>
                    <key>system.uptime[sysUpTime]</key>
                    <delay>30s</delay>
                    <history>2w</history>
                    <trends>0d</trends>
                    <units>uptime</units>
                    <description>MIB: SNMPv2-MIB&#13;
The time (in hundredths of a second) since the network management portion of the system was last re-initialized.</description>
                    <applications>
                        <application>
                            <name>Status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.01</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;10m</expression>
                            <name>{HOST.NAME} has been restarted</name>
                            <priority>INFO</priority>
                            <description>Last value: {ITEM.LASTVALUE1}.&#13;
The device uptime is less than 10 minutes</description>
                            <manual_close>YES</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>No SNMP data collection</name>
                                    <expression>{Template Module Generic SNMPv2_Backups:zabbix[host,snmp,available].max({$SNMP_TIMEOUT})}=0</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>SNMP availability</name>
                    <type>INTERNAL</type>
                    <key>zabbix[host,snmp,available]</key>
                    <history>2w</history>
                    <trends>0</trends>
                    <applications>
                        <application>
                            <name>Status</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>zabbix.host.available</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{max({$SNMP_TIMEOUT})}=0</expression>
                            <name>No SNMP data collection</name>
                            <priority>HIGH</priority>
                            <description>Last value: {ITEM.LASTVALUE1}.&#13;
SNMP is not available for polling. Please check device connectivity and SNMP settings.</description>
                            <dependencies>
                                <dependency>
                                    <name>Unavailable by ICMP ping</name>
                                    <expression>{Template Module Generic SNMPv2_Backups:icmpping.max(#14)}=0</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$SNMP_TIMEOUT}</macro>
                    <value>3m</value>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template Module ICMP Ping_Backups</template>
            <name>Template Module ICMP Ping_Backups</name>
            <description>Template Module ICMP Ping version: 0.15</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Status</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>ICMP ping</name>
                    <type>SIMPLE</type>
                    <key>icmpping</key>
                    <history>1w</history>
                    <trends>0</trends>
                    <applications>
                        <application>
                            <name>Status</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>Service state</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{max(#14)}=0</expression>
                            <name>Unavailable by ICMP ping</name>
                            <priority>DISASTER</priority>
                            <description>Last value: {ITEM.LASTVALUE1}.&#13;
Last three attempts returned timeout.  Please check device connectivity.</description>
                            <tags>
                                <tag>
                                    <tag>service</tag>
                                    <value>backoffice</value>
                                </tag>
                                <tag>
                                    <tag>service</tag>
                                    <value>backup</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>ICMP loss</name>
                    <type>SIMPLE</type>
                    <key>icmppingloss</key>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <applications>
                        <application>
                            <name>Status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{min(5m)}&gt;{$ICMP_LOSS_WARN} and {min(5m)}&lt;100</expression>
                            <name>High ICMP ping loss</name>
                            <status>DISABLED</status>
                            <priority>INFO</priority>
                            <description>Last value: {ITEM.LASTVALUE1}.</description>
                            <dependencies>
                                <dependency>
                                    <name>Unavailable by ICMP ping</name>
                                    <expression>{Template Module ICMP Ping_Backups:icmpping.max(#14)}=0</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>ICMP response time</name>
                    <type>SIMPLE</type>
                    <key>icmppingsec</key>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <units>s</units>
                    <applications>
                        <application>
                            <name>Status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{avg(5m)}&gt;{$ICMP_RESPONSE_TIME_WARN}</expression>
                            <name>High ICMP ping response time</name>
                            <status>DISABLED</status>
                            <priority>INFO</priority>
                            <description>Last value: {ITEM.LASTVALUE1}.</description>
                            <dependencies>
                                <dependency>
                                    <name>High ICMP ping loss</name>
                                    <expression>{Template Module ICMP Ping_Backups:icmppingloss.min(5m)}&gt;{$ICMP_LOSS_WARN} and {Template Module ICMP Ping_Backups:icmppingloss.min(5m)}&lt;100</expression>
                                </dependency>
                                <dependency>
                                    <name>Unavailable by ICMP ping</name>
                                    <expression>{Template Module ICMP Ping_Backups:icmpping.max(#14)}=0</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$ICMP_LOSS_WARN}</macro>
                    <value>20</value>
                </macro>
                <macro>
                    <macro>{$ICMP_RESPONSE_TIME_WARN}</macro>
                    <value>0.15</value>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template Module Windows CPU by Zabbix agent_Backup</template>
            <name>Template Module Windows CPU by Zabbix agent_Backup</name>
            <description>Template tooling version used: 0.34</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>CPU</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>CPU DPC time</name>
                    <key>perf_counter[&quot;\Processor Information(_total)\% DPC Time&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>Processor DPC time is the time that a single processor spent receiving and servicing deferred procedure &#13;
calls (DPCs). DPCs are interrupts that run at a lower priority than standard interrupts. % DPC Time is a &#13;
component of % Privileged Time because DPCs are executed in privileged mode. If a high % DPC Time is &#13;
sustained, there may be a processor bottleneck or an application or hardware related issue that can &#13;
significantly diminish overall system performance.</description>
                    <applications>
                        <application>
                            <name>CPU</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>CPU interrupt time</name>
                    <key>perf_counter[&quot;\Processor Information(_total)\% Interrupt Time&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>The Processor Information\% Interrupt Time is the time the processor spends receiving and servicing &#13;
hardware interrupts during sample intervals. This value is an indirect indicator of the activity of &#13;
devices that generate interrupts, such as the system clock, the mouse, disk drivers, data communication &#13;
lines, network interface cards and other peripheral devices. This is an easy way to identify a potential &#13;
hardware failure. This should never be higher than 20%.</description>
                    <applications>
                        <application>
                            <name>CPU</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{min(5m)}&gt;{$CPU.INTERRUPT.CRIT.MAX}</expression>
                            <name>CPU interrupt time is too high (over {$CPU.INTERRUPT.CRIT.MAX}% for 5m)</name>
                            <priority>INFO</priority>
                            <description>&quot;The CPU Interrupt Time in the last 5 minutes exceeds {$CPU.INTERRUPT.CRIT.MAX}%.&quot;&#13;
The Processor Information\% Interrupt Time is the time the processor spends receiving and servicing &#13;
hardware interrupts during sample intervals. This value is an indirect indicator of the activity of &#13;
devices that generate interrupts, such as the system clock, the mouse, disk drivers, data communication &#13;
lines, network interface cards and other peripheral devices. This is an easy way to identify a potential &#13;
hardware failure. This should never be higher than 20%.</description>
                            <dependencies>
                                <dependency>
                                    <name>High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)</name>
                                    <expression>{Template Module Windows CPU by Zabbix agent_Backup:system.cpu.util.min(5m)}&gt;{$CPU.UTIL.CRIT}</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>CPU privileged time</name>
                    <key>perf_counter[&quot;\Processor Information(_total)\% Privileged Time&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>The Processor Information\% Privileged Time counter shows the percent of time that the processor is spent &#13;
executing in Kernel (or Privileged) mode. Privileged mode includes services interrupts inside Interrupt &#13;
Service Routines (ISRs), executing Deferred Procedure Calls (DPCs), Device Driver calls and other kernel-mode &#13;
functions of the Windows Operating System.</description>
                    <applications>
                        <application>
                            <name>CPU</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{min(5m)}&gt;{$CPU.PRIV.CRIT.MAX}</expression>
                            <name>CPU privileged time is too high (over {$CPU.PRIV.CRIT.MAX}% for 5m)</name>
                            <priority>INFO</priority>
                            <description>The CPU privileged time in the last 5 minutes exceeds {$CPU.PRIV.CRIT.MAX}%.</description>
                            <dependencies>
                                <dependency>
                                    <name>CPU interrupt time is too high (over {$CPU.INTERRUPT.CRIT.MAX}% for 5m)</name>
                                    <expression>{Template Module Windows CPU by Zabbix agent_Backup:perf_counter[&quot;\Processor Information(_total)\% Interrupt Time&quot;].min(5m)}&gt;{$CPU.INTERRUPT.CRIT.MAX}</expression>
                                </dependency>
                                <dependency>
                                    <name>High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)</name>
                                    <expression>{Template Module Windows CPU by Zabbix agent_Backup:system.cpu.util.min(5m)}&gt;{$CPU.UTIL.CRIT}</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>CPU user time</name>
                    <key>perf_counter[&quot;\Processor Information(_total)\% User Time&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>The Processor Information\% User Time counter shows the percent of time that the processor(s) is spent executing &#13;
in User mode.</description>
                    <applications>
                        <application>
                            <name>CPU</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Context switches per second</name>
                    <key>perf_counter[&quot;\System\Context Switches/sec&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <description>Context Switches/sec is the combined rate at which all processors on the computer are switched from one thread to another.&#13;
Context switches occur when a running thread voluntarily relinquishes the processor, is preempted by a higher priority ready thread, or switches between user-mode and privileged (kernel) mode to use an Executive or subsystem service.&#13;
It is the sum of Thread\\Context Switches/sec for all threads running on all processors in the computer and is measured in numbers of switches.&#13;
There are context switch counters on the System and Thread objects. This counter displays the difference between the values observed in the last two samples, divided by the duration of the sample interval.</description>
                    <applications>
                        <application>
                            <name>CPU</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>CPU queue length</name>
                    <key>perf_counter[&quot;\System\Processor Queue Length&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <description>The Processor Queue Length shows the number of threads that are observed as delayed in the processor Ready Queue &#13;
and are waiting to be executed.</description>
                    <applications>
                        <application>
                            <name>CPU</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{min(5m)}&gt;{$CPU.QUEUE.CRIT.MAX}</expression>
                            <name>CPU queue length is too high (over {$CPU.QUEUE.CRIT.MAX} for 5m)</name>
                            <priority>INFO</priority>
                            <description>The CPU Queue Length in the last 5 minutes exceeds {$CPU.QUEUE.CRIT.MAX}.</description>
                            <dependencies>
                                <dependency>
                                    <name>High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)</name>
                                    <expression>{Template Module Windows CPU by Zabbix agent_Backup:system.cpu.util.min(5m)}&gt;{$CPU.UTIL.CRIT}</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>CPU utilization</name>
                    <key>system.cpu.util</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>CPU utilization in %</description>
                    <applications>
                        <application>
                            <name>CPU</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{min(5m)}&gt;{$CPU.UTIL.CRIT}</expression>
                            <name>High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)</name>
                            <opdata>Current utilization: {ITEM.LASTVALUE1}</opdata>
                            <priority>INFO</priority>
                            <description>CPU utilization is too high. The system might be slow to respond.</description>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$CPU.INTERRUPT.CRIT.MAX}</macro>
                    <value>50</value>
                    <description>The critical threshold of the % Interrupt Time counter.</description>
                </macro>
                <macro>
                    <macro>{$CPU.PRIV.CRIT.MAX}</macro>
                    <value>30</value>
                    <description>The threshold of the % Privileged Time counter.</description>
                </macro>
                <macro>
                    <macro>{$CPU.QUEUE.CRIT.MAX}</macro>
                    <value>3</value>
                    <description>The threshold of the Processor Queue Length counter.</description>
                </macro>
                <macro>
                    <macro>{$CPU.UTIL.CRIT}</macro>
                    <value>95</value>
                    <description>The critical threshold of the CPU utilization in %.</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template Module Windows filesystems by Zabbix agent_Backup</template>
            <name>Template Module Windows filesystems by Zabbix agent_Backup</name>
            <description>Template tooling version used: 0.34</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Filesystems</name>
                </application>
            </applications>
            <discovery_rules>
                <discovery_rule>
                    <name>Mounted filesystem discovery</name>
                    <key>vfs.fs.discovery</key>
                    <delay>1h</delay>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#FSTYPE}</macro>
                                <value>{$VFS.FS.FSTYPE.MATCHES}</value>
                                <formulaid>E</formulaid>
                            </condition>
                            <condition>
                                <macro>{#FSTYPE}</macro>
                                <value>{$VFS.FS.FSTYPE.NOT_MATCHES}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>F</formulaid>
                            </condition>
                            <condition>
                                <macro>{#FSNAME}</macro>
                                <value>{$VFS.FS.FSNAME.MATCHES}</value>
                                <formulaid>C</formulaid>
                            </condition>
                            <condition>
                                <macro>{#FSNAME}</macro>
                                <value>{$VFS.FS.FSNAME.NOT_MATCHES}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>D</formulaid>
                            </condition>
                            <condition>
                                <macro>{#FSDRIVETYPE}</macro>
                                <value>{$VFS.FS.FSDRIVETYPE.MATCHES}</value>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#FSDRIVETYPE}</macro>
                                <value>{$VFS.FS.FSDRIVETYPE.NOT_MATCHES}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>B</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>7d</lifetime>
                    <description>Discovery of file systems of different types.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#FSNAME}: Space Free</name>
                            <key>vfs.fs.size[{#FSNAME},free]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>7d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Filesystems</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;1020054732800</expression>
                                    <name>{#FSNAME} Disk space Lower 1TB</name>
                                    <opdata>Disk space lower 1TB</opdata>
                                    <priority>HIGH</priority>
                                    <manual_close>YES</manual_close>
                                    <tags>
                                        <tag>
                                            <tag>service</tag>
                                            <value>itservices</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#FSNAME}: Space utilization</name>
                            <key>vfs.fs.size[{#FSNAME},pused]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>7d</trends>
                            <value_type>FLOAT</value_type>
                            <units>%</units>
                            <description>Space utilization in % for {#FSNAME}</description>
                            <applications>
                                <application>
                                    <name>Filesystems</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>{#FSNAME}: Total space</name>
                            <key>vfs.fs.size[{#FSNAME},total]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>B</units>
                            <description>Total space in Bytes</description>
                            <applications>
                                <application>
                                    <name>Filesystems</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#FSNAME}: Used space</name>
                            <key>vfs.fs.size[{#FSNAME},used]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>B</units>
                            <description>Used storage in Bytes</description>
                            <applications>
                                <application>
                                    <name>Filesystems</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$VFS.FS.FSDRIVETYPE.MATCHES}</macro>
                    <value>fixed</value>
                    <description>This macro is used in filesystems discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$VFS.FS.FSDRIVETYPE.NOT_MATCHES}</macro>
                    <value>^\s$</value>
                    <description>This macro is used in filesystems discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$VFS.FS.FSNAME.MATCHES}</macro>
                    <value>.*</value>
                    <description>This macro is used in filesystems discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$VFS.FS.FSNAME.NOT_MATCHES}</macro>
                    <value>^(/dev|/sys|/run|/proc|.+/shm$)</value>
                    <description>This macro is used in filesystems discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$VFS.FS.FSTYPE.MATCHES}</macro>
                    <value>.*</value>
                    <description>This macro is used in filesystems discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$VFS.FS.FSTYPE.NOT_MATCHES}</macro>
                    <value>^\s$</value>
                    <description>This macro is used in filesystems discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$VFS.FS.PUSED.MAX.CRIT}</macro>
                    <value>95</value>
                    <description>The critical threshold of the filesystem utilization in percent.</description>
                </macro>
                <macro>
                    <macro>{$VFS.FS.PUSED.MAX.WARN}</macro>
                    <value>85</value>
                    <description>The warning threshold of the filesystem utilization in percent.</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template Module Windows generic by Zabbix agent_Backup</template>
            <name>Template Module Windows generic by Zabbix agent_Backup</name>
            <description>Template tooling version used: 0.34</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>General</name>
                </application>
                <application>
                    <name>Inventory</name>
                </application>
                <application>
                    <name>Status</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Number of threads</name>
                    <key>perf_counter[&quot;\System\Threads&quot;]</key>
                    <history>30d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <description>The number of threads used by all running processes.</description>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Number of processes</name>
                    <key>proc.num[]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <description>The number of processes.</description>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{avg(5m)}&gt;300</expression>
                            <name>Too many processes on {HOST.NAME}</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>System local time</name>
                    <key>system.localtime</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <units>unixtime</units>
                    <description>System local time of the host.</description>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{fuzzytime({$SYSTEM.FUZZYTIME.MAX})}=0</expression>
                            <name>System time is out of sync (diff with Zabbix server &gt; {$SYSTEM.FUZZYTIME.MAX}s)</name>
                            <priority>HIGH</priority>
                            <description>The host system time is different from the Zabbix server time.</description>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Operating system architecture</name>
                    <key>system.sw.arch</key>
                    <delay>1h</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>Operating system architecture of the host.</description>
                    <applications>
                        <application>
                            <name>Inventory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>1d</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>System description</name>
                    <key>system.uname</key>
                    <delay>1h</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>System description of the host.</description>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>1d</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Uptime</name>
                    <key>system.uptime</key>
                    <delay>30s</delay>
                    <history>2w</history>
                    <trends>0d</trends>
                    <units>uptime</units>
                    <description>System uptime in 'N days, hh:mm:ss' format.</description>
                    <applications>
                        <application>
                            <name>Status</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;10m</expression>
                            <name>Host has been restarted (uptime &lt; 10m)</name>
                            <priority>INFO</priority>
                            <description>The device uptime is less than 10 minutes.</description>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$SYSTEM.FUZZYTIME.MAX}</macro>
                    <value>60</value>
                    <description>The threshold for difference of system time in seconds.</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template Module Windows memory by Zabbix agent_Backup</template>
            <name>Template Module Windows memory by Zabbix agent_Backup</name>
            <description>Template tooling version used: 0.34</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Memory</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Cache bytes</name>
                    <key>perf_counter[&quot;\Memory\Cache Bytes&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <units>B</units>
                    <description>Cache Bytes is the sum of the Memory\\System Cache Resident Bytes, Memory\\System Driver Resident Bytes, &#13;
Memory\\System Code Resident Bytes, and Memory\\Pool Paged Resident Bytes counters. This counter displays &#13;
the last observed value only; it is not an average.</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Free system page table entries</name>
                    <key>perf_counter[&quot;\Memory\Free System Page Table Entries&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <description>This indicates the number of page table entries not currently in use by the system. If the number is less &#13;
than 5,000, there may well be a memory leak or you running out of memory.</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{max(5m)}&lt;{$MEM.PAGE_TABLE_CRIT.MIN}</expression>
                            <name>Number of free system page table entries is too low (less {$MEM.PAGE_TABLE_CRIT.MIN} for 5m)</name>
                            <status>DISABLED</status>
                            <priority>INFO</priority>
                            <description>The Memory Free System Page Table Entries is less than {$MEM.PAGE_TABLE_CRIT.MIN} for 5 minutes. If the number is less than 5,000, there may well be a memory leak.</description>
                            <dependencies>
                                <dependency>
                                    <name>High memory utilization ( &gt;{$MEMORY.UTIL.MAX}% for 5m)</name>
                                    <expression>{Template Module Windows memory by Zabbix agent_Backup:vm.memory.util.min(5m)}&gt;{$MEMORY.UTIL.MAX}</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Memory page faults per second</name>
                    <key>perf_counter[&quot;\Memory\Page Faults/sec&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <description>Page Faults/sec is the average number of pages faulted per second. It is measured in number of pages &#13;
faulted per second because only one page is faulted in each fault operation, hence this is also equal &#13;
to the number of page fault operations. This counter includes both hard faults (those that require &#13;
disk access) and soft faults (where the faulted page is found elsewhere in physical memory.) Most &#13;
processors can handle large numbers of soft faults without significant consequence. However, hard faults, &#13;
which require disk access, can cause significant delays.</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Memory pages per second</name>
                    <key>perf_counter[&quot;\Memory\Pages/sec&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <description>This measures the rate at which pages are read from or written to disk to resolve hard page faults. &#13;
If the value is greater than 1,000, as a result of excessive paging, there may be a memory leak.</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{min(5m)}&gt;{$MEM.PAGE_SEC.CRIT.MAX}</expression>
                            <name>The Memory Pages/sec is too high (over {$MEM.PAGE_SEC.CRIT.MAX} for 5m)</name>
                            <status>DISABLED</status>
                            <priority>INFO</priority>
                            <description>The Memory Pages/sec in the last 5 minutes exceeds {$MEM.PAGE_SEC.CRIT.MAX}. If the value is greater than 1,000, as a result of excessive paging, there may be a memory leak.</description>
                            <dependencies>
                                <dependency>
                                    <name>High memory utilization ( &gt;{$MEMORY.UTIL.MAX}% for 5m)</name>
                                    <expression>{Template Module Windows memory by Zabbix agent_Backup:vm.memory.util.min(5m)}&gt;{$MEMORY.UTIL.MAX}</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Memory pool non-paged</name>
                    <key>perf_counter[&quot;\Memory\Pool Nonpaged Bytes&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <units>B</units>
                    <description>This measures the size, in bytes, of the non-paged pool. This is an area of system memory for objects &#13;
that cannot be written to disk but instead must remain in physical memory as long as they are allocated. &#13;
There is a possible memory leak if the value is greater than 175MB (or 100MB with the /3GB switch). &#13;
A typical Event ID 2019 is recorded in the system event log.</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Free swap space</name>
                    <key>system.swap.size[,free]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <units>B</units>
                    <description>The free space of swap volume/file in bytes.</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Free swap space in %</name>
                    <key>system.swap.size[,pfree]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>The free space of swap volume/file in percent.</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Total swap space</name>
                    <key>system.swap.size[,total]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <units>B</units>
                    <description>The total space of swap volume/file in bytes.</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Total memory</name>
                    <key>vm.memory.size[total]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <units>B</units>
                    <description>Total memory in Bytes</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Used memory</name>
                    <key>vm.memory.size[used]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <units>B</units>
                    <description>Used memory in Bytes</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Memory utilization</name>
                    <type>CALCULATED</type>
                    <key>vm.memory.util</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <params>last(&quot;vm.memory.size[used]&quot;) / last(&quot;vm.memory.size[total]&quot;) * 100</params>
                    <description>Memory utilization in %</description>
                    <applications>
                        <application>
                            <name>Memory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{min(5m)}&gt;{$MEMORY.UTIL.MAX}</expression>
                            <name>High memory utilization ( &gt;{$MEMORY.UTIL.MAX}% for 5m)</name>
                            <priority>HIGH</priority>
                            <description>The system is running out of free memory.</description>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$MEM.PAGE_SEC.CRIT.MAX}</macro>
                    <value>4000</value>
                    <description>The warning threshold of the Memory Pages/sec counter.</description>
                </macro>
                <macro>
                    <macro>{$MEM.PAGE_TABLE_CRIT.MIN}</macro>
                    <value>5000</value>
                    <description>The warning threshold of the Free System Page Table Entries counter.</description>
                </macro>
                <macro>
                    <macro>{$MEMORY.UTIL.MAX}</macro>
                    <value>95</value>
                    <description>The warning threshold of the Memory util item.</description>
                </macro>
                <macro>
                    <macro>{$SWAP.PFREE.MIN.WARN}</macro>
                    <value>10</value>
                    <description>The warning threshold of the minimum free swap.</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template Module Windows network by Zabbix agent_Backup</template>
            <name>Template Module Windows network by Zabbix agent_Backup</name>
            <description>Template tooling version used: 0.34</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Network interfaces</name>
                </application>
                <application>
                    <name>Zabbix raw items</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Network interfaces WMI get</name>
                    <key>wmi.getall[root\cimv2,&quot;select * from win32_networkadapter where PhysicalAdapter=True&quot;]</key>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <description>Raw data of win32_networkadapter.</description>
                    <applications>
                        <application>
                            <name>Zabbix raw items</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Network interfaces discovery</name>
                    <type>DEPENDENT</type>
                    <key>net.if.discovery</key>
                    <delay>0</delay>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#IFPHYSICALADAPTER}</macro>
                                <value>{$NET.IF.PHYSICALADAPTER.MATCHES}</value>
                                <formulaid>I</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFPHYSICALADAPTER}</macro>
                                <value>{$NET.IF.PHYSICALADAPTER.NOT_MATCHES}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>J</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFNAME}</macro>
                                <value>{$NET.IF.IFNAME.MATCHES}</value>
                                <formulaid>E</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFNAME}</macro>
                                <value>{$NET.IF.IFNAME.NOT_MATCHES}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>F</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFDESCR}</macro>
                                <value>{$NET.IF.IFDESCR.MATCHES}</value>
                                <formulaid>C</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFDESCR}</macro>
                                <value>{$NET.IF.IFDESCR.NOT_MATCHES}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>D</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFALIAS}</macro>
                                <value>{$NET.IF.IFALIAS.MATCHES}</value>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFALIAS}</macro>
                                <value>{$NET.IF.IFALIAS.NOT_MATCHES}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>B</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFNETENABLED}</macro>
                                <value>{$NET.IF.IFNETENABLED.MATCHES}</value>
                                <formulaid>G</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFNETENABLED}</macro>
                                <value>{$NET.IF.IFNETENABLED.NOT_MATCHES}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>H</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Discovery of installed network interfaces.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Interface {#IFNAME}({#IFALIAS}): Inbound packets discarded</name>
                            <key>net.if.in[&quot;{#IFNAME}&quot;,dropped]</key>
                            <delay>3m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>The number of incoming packets dropped on the network interface.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Interface {#IFNAME}({#IFALIAS})</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface {#IFNAME}({#IFALIAS}): Inbound packets with errors</name>
                            <key>net.if.in[&quot;{#IFNAME}&quot;,errors]</key>
                            <delay>3m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>The number of incoming packets with errors on the network interface.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Interface {#IFNAME}({#IFALIAS})</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface {#IFNAME}({#IFALIAS}): Bits received</name>
                            <key>net.if.in[&quot;{#IFNAME}&quot;]</key>
                            <delay>3m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>bps</units>
                            <description>Incoming traffic on the network interface.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Interface {#IFNAME}({#IFALIAS})</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>8</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface {#IFNAME}({#IFALIAS}): Outbound packets discarded</name>
                            <key>net.if.out[&quot;{#IFNAME}&quot;,dropped]</key>
                            <delay>3m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>The number of outgoing packets dropped on the network interface.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Interface {#IFNAME}({#IFALIAS})</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface {#IFNAME}({#IFALIAS}): Outbound packets with errors</name>
                            <key>net.if.out[&quot;{#IFNAME}&quot;,errors]</key>
                            <delay>3m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>The number of outgoing packets with errors on the network interface.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Interface {#IFNAME}({#IFALIAS})</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface {#IFNAME}({#IFALIAS}): Bits sent</name>
                            <key>net.if.out[&quot;{#IFNAME}&quot;]</key>
                            <delay>3m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>bps</units>
                            <description>Outgoing traffic on the network interface.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Interface {#IFNAME}({#IFALIAS})</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>8</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface {#IFNAME}({#IFALIAS}): Speed</name>
                            <type>DEPENDENT</type>
                            <key>net.if.speed[&quot;{#IFNAME}&quot;]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0d</trends>
                            <units>bps</units>
                            <description>Estimated bandwidth of the network interface if any.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Interface {#IFNAME}({#IFALIAS})</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$[?(@.Name == &quot;{#IFNAME}&quot;)].Speed.first()</params>
                                    <error_handler>CUSTOM_VALUE</error_handler>
                                    <error_handler_params>0</error_handler_params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>wmi.getall[root\cimv2,&quot;select * from win32_networkadapter where PhysicalAdapter=True&quot;]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface {#IFNAME}({#IFALIAS}): Operational status</name>
                            <type>DEPENDENT</type>
                            <key>net.if.status[&quot;{#IFNAME}&quot;]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>The operational status of the network interface.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Interface {#IFNAME}({#IFALIAS})</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>Win32_NetworkAdapter::NetConnectionStatus</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$[?(@.Name == &quot;{#IFNAME}&quot;)].NetConnectionStatus.first()</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>wmi.getall[root\cimv2,&quot;select * from win32_networkadapter where PhysicalAdapter=True&quot;]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and ({last()}=2 and {diff()}=1)</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{last()}&lt;&gt;2</recovery_expression>
                                    <name>Interface {#IFNAME}({#IFALIAS}): Link down</name>
                                    <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                                    <priority>INFO</priority>
                                    <description>This trigger expression works as follows:&#13;
1. Can be triggered if operations status is down.&#13;
2. {$IFCONTROL:&quot;{#IFNAME}&quot;}=1 - user can redefine Context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.&#13;
3. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if operational status was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)&#13;
&#13;
WARNING: if closed manually - won't fire again on next poll, because of .diff.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface {#IFNAME}({#IFALIAS}): Interface type</name>
                            <type>DEPENDENT</type>
                            <key>net.if.type[&quot;{#IFNAME}&quot;]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0d</trends>
                            <description>The type of the network interface.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Interface {#IFNAME}({#IFALIAS})</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>Win32_NetworkAdapter::AdapterTypeId</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$[?(@.Name == &quot;{#IFNAME}&quot;)].AdapterTypeId.first()</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>wmi.getall[root\cimv2,&quot;select * from win32_networkadapter where PhysicalAdapter=True&quot;]</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Template Module Windows network by Zabbix agent_Backup:net.if.speed[&quot;{#IFNAME}&quot;].change()}&lt;0 and {Template Module Windows network by Zabbix agent_Backup:net.if.speed[&quot;{#IFNAME}&quot;].last()}&gt;0&#13;
and (&#13;
{Template Module Windows network by Zabbix agent_Backup:net.if.type[&quot;{#IFNAME}&quot;].last()}=6 or&#13;
{Template Module Windows network by Zabbix agent_Backup:net.if.type[&quot;{#IFNAME}&quot;].last()}=7 or&#13;
{Template Module Windows network by Zabbix agent_Backup:net.if.type[&quot;{#IFNAME}&quot;].last()}=11 or&#13;
{Template Module Windows network by Zabbix agent_Backup:net.if.type[&quot;{#IFNAME}&quot;].last()}=62 or&#13;
{Template Module Windows network by Zabbix agent_Backup:net.if.type[&quot;{#IFNAME}&quot;].last()}=69 or&#13;
{Template Module Windows network by Zabbix agent_Backup:net.if.type[&quot;{#IFNAME}&quot;].last()}=117&#13;
)&#13;
and&#13;
({Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].last()}&lt;&gt;2)</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>({Template Module Windows network by Zabbix agent_Backup:net.if.speed[&quot;{#IFNAME}&quot;].change()}&gt;0 and {Template Module Windows network by Zabbix agent_Backup:net.if.speed[&quot;{#IFNAME}&quot;].prev()}&gt;0) or&#13;
({Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].last()}=2)</recovery_expression>
                            <name>Interface {#IFNAME}({#IFALIAS}): Ethernet has changed to lower speed than it was before</name>
                            <opdata>Current reported speed: {ITEM.LASTVALUE1}</opdata>
                            <priority>INFO</priority>
                            <description>This Ethernet connection has transitioned down from its known maximum speed. This might be a sign of autonegotiation issues. Ack to close.</description>
                            <dependencies>
                                <dependency>
                                    <name>Interface {#IFNAME}({#IFALIAS}): Link down</name>
                                    <expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and ({Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].last()}=2 and {Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].diff()}=1)</expression>
                                    <recovery_expression>{Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].last()}&lt;&gt;2</recovery_expression>
                                </dependency>
                            </dependencies>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>({Template Module Windows network by Zabbix agent_Backup:net.if.in[&quot;{#IFNAME}&quot;].avg(15m)}&gt;({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}/100)*{Template Module Windows network by Zabbix agent_Backup:net.if.speed[&quot;{#IFNAME}&quot;].last()} or&#13;
{Template Module Windows network by Zabbix agent_Backup:net.if.out[&quot;{#IFNAME}&quot;].avg(15m)}&gt;({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}/100)*{Template Module Windows network by Zabbix agent_Backup:net.if.speed[&quot;{#IFNAME}&quot;].last()}) and&#13;
{Template Module Windows network by Zabbix agent_Backup:net.if.speed[&quot;{#IFNAME}&quot;].last()}&gt;0</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{Template Module Windows network by Zabbix agent_Backup:net.if.in[&quot;{#IFNAME}&quot;].avg(15m)}&lt;(({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}-3)/100)*{Template Module Windows network by Zabbix agent_Backup:net.if.speed[&quot;{#IFNAME}&quot;].last()} and&#13;
{Template Module Windows network by Zabbix agent_Backup:net.if.out[&quot;{#IFNAME}&quot;].avg(15m)}&lt;(({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}-3)/100)*{Template Module Windows network by Zabbix agent_Backup:net.if.speed[&quot;{#IFNAME}&quot;].last()}</recovery_expression>
                            <name>Interface {#IFNAME}({#IFALIAS}): High bandwidth usage ( &gt; {$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}% )</name>
                            <opdata>In: {ITEM.LASTVALUE1}, out: {ITEM.LASTVALUE3}, speed: {ITEM.LASTVALUE2}</opdata>
                            <priority>INFO</priority>
                            <description>The network interface utilization is close to its estimated maximum bandwidth.</description>
                            <dependencies>
                                <dependency>
                                    <name>Interface {#IFNAME}({#IFALIAS}): Link down</name>
                                    <expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and ({Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].last()}=2 and {Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].diff()}=1)</expression>
                                    <recovery_expression>{Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].last()}&lt;&gt;2</recovery_expression>
                                </dependency>
                            </dependencies>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template Module Windows network by Zabbix agent_Backup:net.if.in[&quot;{#IFNAME}&quot;,errors].min(5m)}&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}&#13;
or {Template Module Windows network by Zabbix agent_Backup:net.if.out[&quot;{#IFNAME}&quot;,errors].min(5m)}&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{Template Module Windows network by Zabbix agent_Backup:net.if.in[&quot;{#IFNAME}&quot;,errors].max(5m)}&lt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}*0.8&#13;
and {Template Module Windows network by Zabbix agent_Backup:net.if.out[&quot;{#IFNAME}&quot;,errors].max(5m)}&lt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}*0.8</recovery_expression>
                            <name>Interface {#IFNAME}({#IFALIAS}): High error rate ( &gt; {$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;} for 5m)</name>
                            <opdata>errors in: {ITEM.LASTVALUE1}, errors out: {ITEM.LASTVALUE2}</opdata>
                            <priority>INFO</priority>
                            <description>Recovers when below 80% of {$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;} threshold</description>
                            <dependencies>
                                <dependency>
                                    <name>Interface {#IFNAME}({#IFALIAS}): Link down</name>
                                    <expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and ({Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].last()}=2 and {Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].diff()}=1)</expression>
                                    <recovery_expression>{Template Module Windows network by Zabbix agent_Backup:net.if.status[&quot;{#IFNAME}&quot;].last()}&lt;&gt;2</recovery_expression>
                                </dependency>
                            </dependencies>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <master_item>
                        <key>wmi.getall[root\cimv2,&quot;select * from win32_networkadapter where PhysicalAdapter=True&quot;]</key>
                    </master_item>
                    <preprocessing>
                        <step>
                            <type>JAVASCRIPT</type>
                            <params>output = JSON.parse(value).map(function(net){
    return {
        &quot;{#IFNAME}&quot;: net.Name,
        &quot;{#IFDESCR}&quot;: net.Description,
        &quot;{#IFPHYSICALADAPTER}&quot;: net.PhysicalAdapter,
        &quot;{#IFALIAS}&quot; : net.NetConnectionID,
        &quot;{#IFNETENABLED}&quot;: net.NetEnabled,
        &quot;{#IFNETSTATUS}&quot;: net.NetConnectionStatus,
        &quot;{#IFSPEED}&quot;: net.Speed
    }})
return JSON.stringify({&quot;data&quot;: output})</params>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>1h</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$IF.ERRORS.WARN}</macro>
                    <value>2</value>
                </macro>
                <macro>
                    <macro>{$IF.UTIL.MAX}</macro>
                    <value>90</value>
                </macro>
                <macro>
                    <macro>{$IFCONTROL}</macro>
                    <value>1</value>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFALIAS.MATCHES}</macro>
                    <value>.*</value>
                    <description>This macro is used in Network interface discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFALIAS.NOT_MATCHES}</macro>
                    <value>CHANGE_THIS</value>
                    <description>This macro is used in Network interface discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFDESCR.MATCHES}</macro>
                    <value>.*</value>
                    <description>This macro is used in Network interface discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFDESCR.NOT_MATCHES}</macro>
                    <value>CHANGE_THIS</value>
                    <description>This macro is used in Network interface discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFNAME.MATCHES}</macro>
                    <value>.*</value>
                    <description>This macro is used in Network interface discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFNAME.NOT_MATCHES}</macro>
                    <value>Miniport|Virtual|Teredo|Kernel|Loopback|Bluetooth|HTTPS|6to4|QoS|Layer</value>
                    <description>This macro is used in Network interface discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFNETENABLED.MATCHES}</macro>
                    <value>True</value>
                    <description>This macro is used in Network interface discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFNETENABLED.NOT_MATCHES}</macro>
                    <value>CHANGE_THIS</value>
                    <description>This macro is used in Network interface discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.PHYSICALADAPTER.MATCHES}</macro>
                    <value>True</value>
                    <description>This macro is used in Network interface discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.PHYSICALADAPTER.NOT_MATCHES}</macro>
                    <value>CHANGE_THIS</value>
                    <description>This macro is used in Network interface discovery. Can be overridden on the host or linked template level.</description>
                </macro>
            </macros>
            <screens>
                <screen>
                    <name>Netowrk interfaces</name>
                    <hsize>1</hsize>
                    <vsize>1</vsize>
                </screen>
            </screens>
        </template>
        <template>
            <template>Template Module Windows physical disks agent_Backup</template>
            <name>Template Module Windows physical disks agent_Backup</name>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Filesystems</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>File read bytes per second</name>
                    <key>perf_counter[\2\16]</key>
                    <history>30d</history>
                    <trends>30d</trends>
                    <value_type>FLOAT</value_type>
                    <units>Bps</units>
                    <applications>
                        <application>
                            <name>Filesystems</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>File write bytes per second</name>
                    <key>perf_counter[\2\18]</key>
                    <history>30d</history>
                    <trends>30d</trends>
                    <value_type>FLOAT</value_type>
                    <units>Bps</units>
                    <applications>
                        <application>
                            <name>Filesystems</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Average disk read queue length</name>
                    <key>perf_counter[\234(_Total)\1402]</key>
                    <history>30d</history>
                    <trends>30d</trends>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Filesystems</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{last()}&gt;100</expression>
                            <name>Average disk read queue length to High</name>
                            <opdata>Average disk read queue length to High</opdata>
                            <priority>HIGH</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Average disk write queue length</name>
                    <key>perf_counter[\234(_Total)\1404]</key>
                    <history>30d</history>
                    <trends>30d</trends>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Filesystems</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{last()}&gt;100</expression>
                            <name>Average disk write queue length to High</name>
                            <opdata>Average disk write queue length to High</opdata>
                            <priority>HIGH</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
            </items>
        </template>
        <template>
            <template>Template Module Windows physical disks by Zabbix agent_Backup</template>
            <name>Template Module Windows physical disks by Zabbix agent_Backup</name>
            <description>Template tooling version used: 0.34</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Storage</name>
                </application>
                <application>
                    <name>Zabbix raw items</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Physical disks WMI get</name>
                    <key>wmi.getall[root\cimv2,&quot;select * from win32_perfformatteddata_perfdisk_physicaldisk&quot;]</key>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <description>Raw data of win32_perfformatteddata_perfdisk_physicaldisk.</description>
                    <applications>
                        <application>
                            <name>Zabbix raw items</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Physical disks discovery</name>
                    <type>DEPENDENT</type>
                    <key>vfs.dev.discovery</key>
                    <delay>0</delay>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#DEVNAME}</macro>
                                <value>{$VFS.DEV.DEVNAME.MATCHES}</value>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#DEVNAME}</macro>
                                <value>{$VFS.DEV.DEVNAME.NOT_MATCHES}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>B</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Discovery of installed physical disks.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#DEVNAME}: Disk average queue size (avgqu-sz)</name>
                            <type>DEPENDENT</type>
                            <key>vfs.dev.queue_size[CurrentDiskQueueLength.{#DEVNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <description>Current average disk queue, the number of requests outstanding on the disk at the time the performance data is collected.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Disk {#DEVNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$[?(@.Name == &quot;{#DEVNAME}&quot;)].CurrentDiskQueueLength.first()</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>wmi.getall[root\cimv2,&quot;select * from win32_perfformatteddata_perfdisk_physicaldisk&quot;]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DEVNAME}: Disk read rate</name>
                            <type>DEPENDENT</type>
                            <key>vfs.dev.read.rate[DiskReadsPersec.{#DEVNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>!r/s</units>
                            <description>Rate of read operations on the disk.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Disk {#DEVNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$[?(@.Name == &quot;{#DEVNAME}&quot;)].DiskReadsPersec.first()</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>wmi.getall[root\cimv2,&quot;select * from win32_perfformatteddata_perfdisk_physicaldisk&quot;]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DEVNAME}: Disk utilization</name>
                            <type>DEPENDENT</type>
                            <key>vfs.dev.util[PercentDiskTime.{#DEVNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <units>%</units>
                            <description>This item is the percentage of elapsed time that the selected disk drive was busy servicing read or writes requests.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Disk {#DEVNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$[?(@.Name == &quot;{#DEVNAME}&quot;)].PercentDiskTime.first()</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>wmi.getall[root\cimv2,&quot;select * from win32_perfformatteddata_perfdisk_physicaldisk&quot;]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{min(15m)}&gt;{$VFS.DEV.UTIL.MAX.WARN}</expression>
                                    <name>{#DEVNAME}: Disk is overloaded (util &gt; {$VFS.DEV.UTIL.MAX.WARN}% for 15m)</name>
                                    <priority>WARNING</priority>
                                    <description>The disk appears to be under heavy load</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DEVNAME}: Disk write rate</name>
                            <type>DEPENDENT</type>
                            <key>vfs.dev.write.rate[DiskWritesPersec.{#DEVNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>!w/s</units>
                            <description>Rate of write operations on the disk.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Disk {#DEVNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$[?(@.Name == &quot;{#DEVNAME}&quot;)].DiskWritesPersec.first()</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>wmi.getall[root\cimv2,&quot;select * from win32_perfformatteddata_perfdisk_physicaldisk&quot;]</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>wmi.getall[root\cimv2,&quot;select * from win32_perfformatteddata_perfdisk_physicaldisk&quot;]</key>
                    </master_item>
                    <preprocessing>
                        <step>
                            <type>JAVASCRIPT</type>
                            <params>output = JSON.parse(value).map(function(dev){
    return {
        &quot;{#DEVNAME}&quot;: dev.Name,
        &quot;{#DEVQUEUE}&quot;: dev.CurrentDiskQueueLength,
        &quot;{#DEVREADS}&quot;: dev.DiskReadsPersec,
        &quot;{#DEVTIME}&quot;: dev.PercentDiskTime,
        &quot;{#DEVWRITES}&quot;: dev.DiskWritesPersec
    }})
return JSON.stringify({&quot;data&quot;: output})</params>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>1h</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$VFS.DEV.DEVNAME.MATCHES}</macro>
                    <value>.*</value>
                    <description>This macro is used in physical disks discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$VFS.DEV.DEVNAME.NOT_MATCHES}</macro>
                    <value>_Total</value>
                    <description>This macro is used in physical disks discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$VFS.DEV.UTIL.MAX.WARN}</macro>
                    <value>95</value>
                    <description>The warning threshold of disk time utilization in percent.</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template Module Windows services by Zabbix agent_Backup</template>
            <name>Template Module Windows services by Zabbix agent_Backup</name>
            <description>Template Services OS Windows&#13;
&#13;
Template tooling version used: 0.34</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Services</name>
                </application>
            </applications>
            <discovery_rules>
                <discovery_rule>
                    <name>Windows services discovery</name>
                    <key>service.discovery</key>
                    <delay>1h</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>Bareos-fd</value>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>Dnscache</value>
                                <formulaid>B</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>Zabbix Agent</value>
                                <formulaid>C</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>gpsvc</value>
                                <formulaid>D</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>EventLog</value>
                                <formulaid>E</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>LanmanServer</value>
                                <formulaid>F</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Discovery of Windows services of different types as defined in template's macros.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>State of service &quot;{#SERVICE.NAME}&quot; ({#SERVICE.DISPLAYNAME})</name>
                            <key>service.info[&quot;{#SERVICE.NAME}&quot;,state]</key>
                            <history>7d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>Services</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>Windows service state</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{min(#3)}&lt;&gt;0</expression>
                                    <name>&quot;{#SERVICE.NAME}&quot; ({#SERVICE.DISPLAYNAME}) is not running (startup type {#SERVICE.STARTUPNAME})</name>
                                    <priority>HIGH</priority>
                                    <description>The service has a state other than &quot;Running&quot; for the last three times.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$SERVICE.NAME.MATCHES}</macro>
                    <value>^.*$</value>
                    <description>This macro is used in Service discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$SERVICE.NAME.NOT_MATCHES}</macro>
                    <value>^RemoteRegistry|MMCSS|gupdate|SysmonLog|clr_optimization_v.+|clr_optimization_v.+|sppsvc|gpsvc|Pml Driver HPZ12|Net Driver HPZ12|MapsBroker|IntelAudioService|Intel\(R\) TPM Provisioning Service|dbupdate|DoSvc$</value>
                    <description>This macro is used in Service discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$SERVICE.STARTUPNAME.MATCHES}</macro>
                    <value>^automatic|automatic delayed$</value>
                    <description>This macro is used in Service discovery. Can be overridden on the host or linked template level.</description>
                </macro>
                <macro>
                    <macro>{$SERVICE.STARTUPNAME.NOT_MATCHES}</macro>
                    <value>^manual|disabled$</value>
                    <description>This macro is used in Service discovery. Can be overridden on the host or linked template level.</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template Module Zabbix agent_Backup</template>
            <name>Template Module Zabbix agent_Backup</name>
            <description>Use this template for agents reachable from Zabbix server/proxy (passive mode).&#13;
&#13;
Template tooling version used: 0.34</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Monitoring agent</name>
                </application>
                <application>
                    <name>Status</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Host name of Zabbix agent running</name>
                    <key>agent.hostname</key>
                    <delay>1h</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>Monitoring agent</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Zabbix agent ping</name>
                    <key>agent.ping</key>
                    <history>30d</history>
                    <trends>30d</trends>
                    <description>The agent always returns 1 for this item. It could be used in combination with nodata() for availability check.</description>
                    <applications>
                        <application>
                            <name>Monitoring agent</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>Zabbix agent ping status</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Version of Zabbix agent running</name>
                    <key>agent.version</key>
                    <delay>1h</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>Monitoring agent</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Zabbix agent availability</name>
                    <type>INTERNAL</type>
                    <key>zabbix[host,agent,available]</key>
                    <delay>5m</delay>
                    <history>7d</history>
                    <trends>7d</trends>
                    <description>Monitoring agent availability status</description>
                    <applications>
                        <application>
                            <name>Status</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>zabbix.host.available</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{max({$AGENT.TIMEOUT})}=0</expression>
                            <name>Zabbix agent is not available (for {$AGENT.TIMEOUT})</name>
                            <priority>HIGH</priority>
                            <description>For passive only agents, host availability is used with {$AGENT.TIMEOUT} as time threshold.</description>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>service</tag>
                                    <value>itservices</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$AGENT.TIMEOUT}</macro>
                    <value>30m</value>
                    <description>Timeout after which agent is considered unavailable. Works only for agents reachable from Zabbix server/proxy (passive mode).</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template OS Windows by Zabbix agent_Backup</template>
            <name>Template OS Windows by Zabbix agent_Backup</name>
            <description>Official Windows template. Requires agent of Zabbix 4.4 and newer.&#13;
&#13;
&#13;
You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/387224-discussion-thread-for-official-zabbix-template-for-windows&#13;
&#13;
Template tooling version used: 0.34</description>
            <templates>
                <template>
                    <name>Template Module Windows CPU by Zabbix agent_Backup</name>
                </template>
                <template>
                    <name>Template Module Windows filesystems by Zabbix agent_Backup</name>
                </template>
                <template>
                    <name>Template Module Windows generic by Zabbix agent_Backup</name>
                </template>
                <template>
                    <name>Template Module Windows memory by Zabbix agent_Backup</name>
                </template>
                <template>
                    <name>Template Module Windows physical disks agent_Backup</name>
                </template>
                <template>
                    <name>Template Module Zabbix agent_Backup</name>
                </template>
                <template>
                    <name>Template OS Windows_Network_interface_Backup</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Processes</name>
                </application>
                <application>
                    <name>Services</name>
                </application>
                <application>
                    <name>Storage</name>
                </application>
                <application>
                    <name>Zabbix raw items</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Physical disks WMI get</name>
                    <key>wmi.getall[root\cimv2,&quot;select * from win32_perfformatteddata_perfdisk_physicaldisk&quot;]</key>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <description>Raw data of win32_perfformatteddata_perfdisk_physicaldisk.</description>
                    <applications>
                        <application>
                            <name>Zabbix raw items</name>
                        </application>
                    </applications>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$VFS.FS.PUSED.MAX.WARN}</macro>
                    <value>95</value>
                    <description>The warning threshold of the filesystem utilization in percent.</description>
                </macro>
            </macros>
            <screens>
                <screen>
                    <name>Netowrk interfaces</name>
                    <hsize>1</hsize>
                    <vsize>1</vsize>
                </screen>
                <screen>
                    <name>System performance</name>
                    <hsize>2</hsize>
                    <vsize>6</vsize>
                </screen>
            </screens>
        </template>
        <template>
            <template>Template OS Windows_Network_interface_Backup</template>
            <name>Template OS Windows_Network_interface_Backup</name>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Network interfaces</name>
                </application>
            </applications>
            <discovery_rules>
                <discovery_rule>
                    <name>Network interface discovery</name>
                    <key>net.if.discovery</key>
                    <delay>1h</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#IFNAME}</macro>
                                <value>@Network interfaces for discovery</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Discovery of network interfaces as defined in global regular expression &quot;Network interfaces for discovery&quot;.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Incoming network traffic on {#IFNAME}</name>
                            <key>net.if.in[{#IFNAME}]</key>
                            <history>30d</history>
                            <trends>0</trends>
                            <units>bps</units>
                            <applications>
                                <application>
                                    <name>Network interfaces</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>8</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Outgoing network traffic on {#IFNAME}</name>
                            <key>net.if.out[{#IFNAME}]</key>
                            <history>30d</history>
                            <trends>0</trends>
                            <units>bps</units>
                            <applications>
                                <application>
                                    <name>Network interfaces</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>8</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
        <template>
            <template>Template Server HP iLO SNMPv2_Backups</template>
            <name>Template Server HP iLO SNMPv2_Backups</name>
            <description>Template Server HP iLO version: 0.15&#13;
Overview: for HP iLO adapters that support SNMP get. Or via operating system, using SNMP HP subagent&#13;
MIBs used:&#13;
CPQSINFO-MIB&#13;
CPQHLTH-MIB&#13;
CPQIDA-MIB</description>
            <templates>
                <template>
                    <name>Template Module Generic SNMPv2_Backups</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Disk arrays</name>
                </application>
                <application>
                    <name>Fans</name>
                </application>
                <application>
                    <name>Inventory</name>
                </application>
                <application>
                    <name>Physical disks</name>
                </application>
                <application>
                    <name>Power supply</name>
                </application>
                <application>
                    <name>Temperature</name>
                </application>
                <application>
                    <name>Virtual disks</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>System: Temperature status</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.232.6.2.6.1.0</snmp_oid>
                    <key>sensor.temp.status[cpqHeThermalCondition.0]</key>
                    <delay>3m</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <description>MIB: CPQHLTH-MIB&#13;
This value specifies the overall condition of the system's thermal environment.&#13;
This value will be one of the following:&#13;
other(1)  Temperature could not be determined.&#13;
ok(2)  The temperature sensor is within normal operating range.&#13;
degraded(3)  The temperature sensor is outside of normal operating range.&#13;
failed(4)  The temperature sensor detects a condition that could  permanently damage the system.</description>
                    <applications>
                        <application>
                            <name>Temperature</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>CPQSINFO-MIB::status</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Hardware model name</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.232.2.2.4.2.0</snmp_oid>
                    <key>system.hw.model</key>
                    <delay>1h</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: CPQSINFO-MIB&#13;
The machine product name.The name of the machine used in this system.</description>
                    <inventory_link>MODEL</inventory_link>
                    <applications>
                        <application>
                            <name>Inventory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Hardware serial number</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.232.2.2.2.1.0</snmp_oid>
                    <key>system.hw.serialnumber</key>
                    <delay>1h</delay>
                    <history>2w</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: CPQSINFO-MIB&#13;
The serial number of the physical system unit. The string will be empty if the system does not report the serial number function.</description>
                    <inventory_link>SERIALNO_A</inventory_link>
                    <applications>
                        <application>
                            <name>Inventory</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{diff()}=1 and {strlen()}&gt;0</expression>
                            <recovery_mode>NONE</recovery_mode>
                            <name>Device has been replaced (new serial number received)</name>
                            <status>DISABLED</status>
                            <priority>INFO</priority>
                            <description>Last value: {ITEM.LASTVALUE1}.&#13;
Device serial number has changed. Ack to close</description>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Overall system health status</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.232.2.1.3.0</snmp_oid>
                    <key>system.status[cpqSiMibCondition.0]</key>
                    <history>2w</history>
                    <trends>0</trends>
                    <description>MIB: CPQSINFO-MIB&#13;
The overall condition. This object represents the overall status of the server information represented by this MIB.</description>
                    <applications>
                        <application>
                            <name>Status</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>CPQSINFO-MIB::status</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{count(#1,{$HEALTH_CRIT_STATUS},eq)}=1</expression>
                            <name>System status is in critical state</name>
                            <priority>HIGH</priority>
                            <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the device for errors</description>
                        </trigger>
                        <trigger>
                            <expression>{count(#1,{$HEALTH_WARN_STATUS},eq)}=1</expression>
                            <name>System status is in warning state</name>
                            <priority>INFO</priority>
                            <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the device for warnings</description>
                            <dependencies>
                                <dependency>
                                    <name>System status is in critical state</name>
                                    <expression>{Template Server HP iLO SNMPv2_Backups:system.status[cpqSiMibCondition.0].count(#1,{$HEALTH_CRIT_STATUS},eq)}=1</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Array Controller Cache Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#CACHE_STATUS},1.3.6.1.4.1.232.3.2.2.2.1.2,{#CACHE_CNTRL_INDEX},1.3.6.1.4.1.232.3.2.2.2.1.1]</snmp_oid>
                    <key>array.cache.discovery</key>
                    <delay>1h</delay>
                    <description>Scanning table of Array controllers: CPQIDA-MIB::cpqDaAccelTable</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller battery status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.2.2.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>1w</history>
                            <trends>1w</trends>
                            <description>MIB: CPQIDA-MIB&#13;
Cache Module Board Backup Power Status. This monitors the status of each backup power source on the board.&#13;
The backup power source can only recharge when the system has power applied. The type of backup power source used is indicated by cpqDaAccelBackupPowerSource.&#13;
The following values are valid:&#13;
Other (1)  Indicates that the instrument agent does not recognize  backup power status.  You may need to update your software.&#13;
&#13;
Ok (2)  The backup power source is fully charged.&#13;
&#13;
Recharging (3)  The array controller has one or more cache module backup power  sources that are recharging.&#13;
Cache module operations such as Battery/Flash Backed Write Cache, Expansion, Extension and Migration are temporarily suspended until the backup power source is fully charged.&#13;
Cache module operations will automatically resume  when charging is complete.&#13;
&#13;
Failed (4)  The battery pack is below the sufficient voltage level and  has not recharged in 36 hours.&#13;
Your Cache Module board  needs to be serviced.&#13;
&#13;
Degraded (5)  The battery is still operating, however, one of the batteries  in the pack has failed to recharge properly.&#13;
Your Cache  Module board should be serviced as soon as possible.&#13;
&#13;
NotPresent (6)  A backup power source is not present on the cache module board. Some controllers do not have backup power sources.&#13;
&#13;
Capacitor Failed (7)  The flash backed cache module capacitor is below the sufficient voltage level and has not recharged in 10 minutes.  Your Cache Module board needs to be serviced.</description>
                            <applications>
                                <application>
                                    <name>Disk arrays</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQIDA-MIB::cpqDaAccelBattery</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#1,{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:&quot;failed&quot;},eq)}=1 or {count(#1,{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:&quot;capacitorFailed&quot;},eq)}=1</expression>
                                    <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in critical state!</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the device for faults</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{count(#1,{$DISK_ARRAY_CACHE_BATTERY_WARN_STATUS:&quot;degraded&quot;},eq)}=1 or {count(#1,{$DISK_ARRAY_CACHE_BATTERY_WARN_STATUS:&quot;notPresent&quot;},eq)}=1</expression>
                                    <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in warning state</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the device for faults</description>
                                    <dependencies>
                                        <dependency>
                                            <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in critical state!</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:system.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}].count(#1,{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:&quot;failed&quot;},eq)}=1 or {Template Server HP iLO SNMPv2_Backups:system.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}].count(#1,{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:&quot;capacitorFailed&quot;},eq)}=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.2.2.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <description>MIB: CPQIDA-MIB&#13;
Cache Module/Operations Status. This describes the status of the cache module and/or cache operations.&#13;
Note that for some controller models, a cache module board that physically attaches to the controller or chipset may not be an available option.</description>
                            <applications>
                                <application>
                                    <name>Disk arrays</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQIDA-MIB::cpqDaAccelStatus</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#1,{$DISK_ARRAY_CACHE_CRIT_STATUS:&quot;cacheModCriticalFailure&quot;},eq)}=1</expression>
                                    <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the device for faults</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{count(#1,{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;invalid&quot;},eq)}=1 or {count(#1,{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;cacheModDegradedFailsafeSpeed&quot;},eq)}=1 or {count(#1,{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;cacheReadCacheNotMapped&quot;},eq)}=1 or {count(#1,{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;cacheModFlashMemNotAttached&quot;},eq)}=1</expression>
                                    <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller is in warning state</name>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the device for faults</description>
                                    <dependencies>
                                        <dependency>
                                            <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}].count(#1,{$DISK_ARRAY_CACHE_CRIT_STATUS:&quot;cacheModCriticalFailure&quot;},eq)}=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{count(#1,{$DISK_ARRAY_CACHE_OK_STATUS:&quot;enabled&quot;},ne)}=1</expression>
                                    <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller is not in optimal state</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the device for faults</description>
                                    <dependencies>
                                        <dependency>
                                            <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}].count(#1,{$DISK_ARRAY_CACHE_CRIT_STATUS:&quot;cacheModCriticalFailure&quot;},eq)}=1</expression>
                                        </dependency>
                                        <dependency>
                                            <name>#{#CACHE_CNTRL_INDEX}: Disk array cache controller is in warning state</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}].count(#1,{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;invalid&quot;},eq)}=1 or {Template Server HP iLO SNMPv2_Backups:system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}].count(#1,{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;cacheModDegradedFailsafeSpeed&quot;},eq)}=1 or {Template Server HP iLO SNMPv2_Backups:system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}].count(#1,{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;cacheReadCacheNotMapped&quot;},eq)}=1 or {Template Server HP iLO SNMPv2_Backups:system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}].count(#1,{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;cacheModFlashMemNotAttached&quot;},eq)}=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Array Controller Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.3.2.2.1.1.1,{#CNTLR_SLOT},1.3.6.1.4.1.232.3.2.2.1.1.5,{#CNTLR_LOCATION},1.3.6.1.4.1.232.3.2.2.1.1.20]</snmp_oid>
                    <key>array.discovery</key>
                    <delay>1h</delay>
                    <description>Scanning table of Array controllers: CPQIDA-MIB::cpqDaCntlrTable</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#CNTLR_LOCATION}: Disk array controller model</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.2.1.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.diskarray.model[cpqDaCntlrModel.{#SNMPINDEX}]</key>
                            <delay>1d</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <description>MIB: CPQIDA-MIB&#13;
Array Controller Model. The type of controller card.</description>
                            <applications>
                                <application>
                                    <name>Disk arrays</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQIDA-MIB::cpqDaCntlrModel</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#CNTLR_LOCATION}: Disk array controller status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.2.1.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>1w</history>
                            <trends>1w</trends>
                            <description>MIB: CPQIDA-MIB&#13;
This value represents the overall condition of this controller,&#13;
and any associated logical drives,physical drives, and array accelerators.</description>
                            <applications>
                                <application>
                                    <name>Disk arrays</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQSINFO-MIB::status</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#1,{$DISK_ARRAY_CRIT_STATUS},eq)}=1</expression>
                                    <name>{#CNTLR_LOCATION}: Disk array controller is in critical state</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the device for faults</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{count(#1,{$DISK_ARRAY_WARN_STATUS},eq)}=1</expression>
                                    <name>{#CNTLR_LOCATION}: Disk array controller is in warning state</name>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the device for faults</description>
                                    <dependencies>
                                        <dependency>
                                            <name>{#CNTLR_LOCATION}: Disk array controller is in critical state</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:system.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}].count(#1,{$DISK_ARRAY_CRIT_STATUS},eq)}=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>FAN Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.7.1.9]</snmp_oid>
                    <key>fan.discovery</key>
                    <delay>1h</delay>
                    <description>CPQHLTH-MIB::cpqHeFltTolFanCondition</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Fan {#SNMPINDEX}: Fan status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.6.2.6.7.1.9.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}]</key>
                            <delay>3m</delay>
                            <history>2w</history>
                            <trends>0</trends>
                            <description>MIB: CPQHLTH-MIB&#13;
The condition of the fan.&#13;
This value will be one of the following:&#13;
other(1)  Fan status detection is not supported by this system or driver.&#13;
ok(2)  The fan is operating properly.&#13;
degraded(2)  A redundant fan is not operating properly.&#13;
failed(4)  A non-redundant fan is not operating properly.</description>
                            <applications>
                                <application>
                                    <name>Fans</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQSINFO-MIB::status</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#1,{$FAN_CRIT_STATUS},eq)}=1</expression>
                                    <name>Fan {#SNMPINDEX}: Fan is in critical state</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the fan unit</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{count(#1,{$FAN_WARN_STATUS},eq)}=1</expression>
                                    <name>Fan {#SNMPINDEX}: Fan is in warning state</name>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the fan unit</description>
                                    <dependencies>
                                        <dependency>
                                            <name>Fan {#SNMPINDEX}: Fan is in critical state</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}].count(#1,{$FAN_CRIT_STATUS},eq)}=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Physical Disk Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.3.2.5.1.1.5,{#DISK_LOCATION},1.3.6.1.4.1.232.3.2.5.1.1.64]</snmp_oid>
                    <key>physicalDisk.discovery</key>
                    <delay>1h</delay>
                    <description>Scanning  table of physical drive entries CPQIDA-MIB::cpqDaPhyDrvTable.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#DISK_LOCATION}: Physical disk media type</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.5.1.1.69.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.physicaldisk.media_type[cpqDaPhyDrvMediaType.{#SNMPINDEX}]</key>
                            <delay>1h</delay>
                            <history>2w</history>
                            <trends>0d</trends>
                            <status>DISABLED</status>
                            <description>MIB: CPQIDA-MIB&#13;
Drive Array Physical Drive Media Type.The following values are defined:&#13;
other(1)  The instrument agent is unable to determine the physical drives media type.&#13;
rotatingPlatters(2)  The physical drive media is composed of rotating platters.&#13;
solidState(3)  The physical drive media is composed of solid state electronics.</description>
                            <applications>
                                <application>
                                    <name>Physical disks</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQIDA-MIB::cpqDaPhyDrvMediaType</name>
                            </valuemap>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISK_LOCATION}: Physical disk model name</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.5.1.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.physicaldisk.model[cpqDaPhyDrvModel.{#SNMPINDEX}]</key>
                            <delay>1h</delay>
                            <history>2w</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <value_type>CHAR</value_type>
                            <description>MIB: CPQIDA-MIB&#13;
Physical Drive Model.This is a text description of the physical drive.&#13;
The text that appears depends upon who manufactured the drive and the drive type.&#13;
If a drive fails, note the model to identify the type of drive necessary for replacement.&#13;
If a model number is not present, you may not have properly initialized the drive array to which the physical drive is attached for monitoring.</description>
                            <applications>
                                <application>
                                    <name>Physical disks</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISK_LOCATION}: Physical disk serial number</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.5.1.1.51.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}]</key>
                            <delay>1d</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <value_type>CHAR</value_type>
                            <description>MIB: CPQIDA-MIB&#13;
Physical Drive Serial Number.&#13;
This is the serial number assigned to the physical drive.&#13;
This value is based upon the serial number as returned by the SCSI inquiry command&#13;
but may have been modified due to space limitations.  This can be used for identification purposes.</description>
                            <applications>
                                <application>
                                    <name>Physical disks</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{diff()}=1 and {strlen()}&gt;0</expression>
                                    <recovery_mode>NONE</recovery_mode>
                                    <name>{#DISK_LOCATION}: Disk has been replaced (new serial number received)</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Disk serial number has changed. Ack to close</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISK_LOCATION}: Disk size</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.5.1.1.45.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.physicaldisk.size[cpqDaPhyDrvMediaType.{#SNMPINDEX}]</key>
                            <delay>1h</delay>
                            <history>2w</history>
                            <trends>0d</trends>
                            <status>DISABLED</status>
                            <units>B</units>
                            <description>MIB: CPQIDA-MIB&#13;
Physical Drive Size in MB.&#13;
This is the size of the physical drive in megabytes.&#13;
This value is calculated using the value 1,048,576 (2^20) as a megabyte.&#13;
Drive manufacturers sometimes use the number 1,000,000 as a megabyte when giving drive capacities so this value may differ&#13;
from the advertised size of a drive. This field is only applicable for controllers which support SCSI drives,&#13;
and therefore is not supported by the IDA or IDA-2 controllers. The field will contain 0xFFFFFFFF if the drive capacity cannot be calculated&#13;
or if the controller does not support SCSI drives.</description>
                            <applications>
                                <application>
                                    <name>Physical disks</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISK_LOCATION}: Physical disk S.M.A.R.T. status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.5.1.1.57.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.physicaldisk.smart_status[cpqDaPhyDrvSmartStatus.{#SNMPINDEX}]</key>
                            <delay>3m</delay>
                            <history>7d</history>
                            <trends>7d</trends>
                            <description>MIB: CPQIDA-MIB&#13;
Physical Drive S.M.A.R.T Status.The following values are defined:&#13;
other(1)  The agent is unable to determine if the status of S.M.A.R.T  predictive failure monitoring for this drive.&#13;
ok(2)  Indicates the drive is functioning properly.&#13;
replaceDrive(3)  Indicates that the drive has a S.M.A.R.T predictive failure  error and should be replaced.</description>
                            <applications>
                                <application>
                                    <name>Physical disks</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQIDA-MIB::cpqDaPhyDrvSmartStatus</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#1,{$DISK_SMART_FAIL_STATUS:&quot;replaceDrive&quot;},eq)}=1 or {count(#1,{$DISK_SMART_FAIL_STATUS:&quot;replaceDriveSSDWearOut&quot;},eq)}=1</expression>
                                    <name>{#DISK_LOCATION}: Physical disk S.M.A.R.T. failed</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Disk probably requires replacement.</description>
                                    <dependencies>
                                        <dependency>
                                            <name>{#DISK_LOCATION}: Physical disk failed</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:system.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}].count(#1,{$DISK_FAIL_STATUS},eq)}=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISK_LOCATION}: Physical disk status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.5.1.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}]</key>
                            <delay>3m</delay>
                            <history>7d</history>
                            <trends>7d</trends>
                            <description>MIB: CPQIDA-MIB&#13;
Physical Drive Status. This shows the status of the physical drive. The following values are valid for the physical drive status:&#13;
other (1)  Indicates that the instrument agent does not recognize  the drive.&#13;
You may need to upgrade your instrument agent  and/or driver software.&#13;
ok (2)  Indicates the drive is functioning properly.&#13;
failed (3)  Indicates that the drive is no longer operating and  should be replaced.&#13;
predictiveFailure(4)  Indicates that the drive has a predictive failure error and  should be replaced.</description>
                            <applications>
                                <application>
                                    <name>Physical disks</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQIDA-MIB::cpqDaPhyDrvStatus</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#1,{$DISK_FAIL_STATUS},eq)}=1</expression>
                                    <name>{#DISK_LOCATION}: Physical disk failed</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check physical disk for warnings or errors</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{count(#1,{$DISK_WARN_STATUS},eq)}=1</expression>
                                    <name>{#DISK_LOCATION}: Physical disk is in warning state</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check physical disk for warnings or errors</description>
                                    <dependencies>
                                        <dependency>
                                            <name>{#DISK_LOCATION}: Physical disk failed</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:system.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}].count(#1,{$DISK_FAIL_STATUS},eq)}=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>PSU Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.9.3.1.5,{#CHASSIS_NUM},1.3.6.1.4.1.232.6.2.9.3.1.1,{#BAY_NUM},1.3.6.1.4.1.232.6.2.9.3.1.2]</snmp_oid>
                    <key>psu.discovery</key>
                    <delay>1h</delay>
                    <description>CPQHLTH-MIB::cpqHeFltTolPowerSupplyStatus</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.6.2.9.3.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}]</key>
                            <delay>3m</delay>
                            <history>2w</history>
                            <trends>0</trends>
                            <description>MIB: CPQHLTH-MIB&#13;
The condition of the power supply. This value will be one of the following:&#13;
other(1)  The status could not be determined or not present.&#13;
ok(2)  The power supply is operating normally.&#13;
degraded(3)  A temperature sensor, fan or other power supply component is  outside of normal operating range.&#13;
failed(4)  A power supply component detects a condition that could  permanently damage the system.</description>
                            <applications>
                                <application>
                                    <name>Power supply</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQSINFO-MIB::status</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#1,{$PSU_CRIT_STATUS},eq)}=1</expression>
                                    <name>Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in critical state</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the power supply unit for errors</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{count(#1,{$PSU_WARN_STATUS},eq)}=1</expression>
                                    <name>Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in warning state</name>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the power supply unit for errors</description>
                                    <dependencies>
                                        <dependency>
                                            <name>Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in critical state</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}].count(#1,{$PSU_CRIT_STATUS},eq)}=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Temperature Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]</snmp_oid>
                    <key>tempDescr.discovery</key>
                    <delay>1h</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SENSOR_LOCALE}</macro>
                                <value>(4|8|9|12|13)</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#SNMPINDEX}: Temperature sensor location</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.6.2.6.8.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.temp.locale[cpqHeTemperatureLocale.{#SNMPINDEX}]</key>
                            <delay>1h</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <description>MIB: CPQHLTH-MIB&#13;
This specifies the location of the temperature sensor present in the system.</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQHLTH-MIB::cpqHeTemperatureLocale</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPINDEX}: Temperature</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.temp.value[cpqHeTemperatureCelsius.{#SNMPINDEX}]</key>
                            <delay>6m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <units>C</units>
                            <description>MIB: CPQHLTH-MIB&#13;
Temperature readings of testpoint: {#SNMPINDEX}</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(2m)}&gt;{$TEMP_CRIT:&quot;{#SNMPINDEX}&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{last(2m)}&lt;{$TEMP_CRIT:&quot;{#SNMPINDEX}&quot;}-3</recovery_expression>
                                    <name>{#SNMPINDEX}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;{#SNMPINDEX}&quot;}</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last(2m)}&gt;{$TEMP_WARN:&quot;{#SNMPINDEX}&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{last(2m)}&lt;{$TEMP_WARN:&quot;{#SNMPINDEX}&quot;}-3</recovery_expression>
                                    <name>{#SNMPINDEX}: Temperature is above warning threshold: &gt;{$TEMP_WARN:&quot;{#SNMPINDEX}&quot;}</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                    <dependencies>
                                        <dependency>
                                            <name>{#SNMPINDEX}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;{#SNMPINDEX}&quot;}</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.{#SNMPINDEX}].last(2m)}&gt;{$TEMP_CRIT:&quot;{#SNMPINDEX}&quot;}</expression>
                                            <recovery_expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.{#SNMPINDEX}].last(2m)}&lt;{$TEMP_CRIT:&quot;{#SNMPINDEX}&quot;}-3</recovery_expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&lt;{$TEMP_CRIT_LOW:&quot;{#SNMPINDEX}&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{min(5m)}&gt;{$TEMP_CRIT_LOW:&quot;{#SNMPINDEX}&quot;}+3</recovery_expression>
                                    <name>{#SNMPINDEX}: Temperature is too low: &lt;{$TEMP_CRIT_LOW:&quot;{#SNMPINDEX}&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Temperature Discovery Ambient</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]</snmp_oid>
                    <key>tempDescr.discovery.ambient</key>
                    <delay>1h</delay>
                    <status>DISABLED</status>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SNMPINDEX}</macro>
                                <value>0\.1</value>
                                <formulaid>B</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SENSOR_LOCALE}</macro>
                                <value>11</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with ambient(11) and 0.1 index filter</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Ambient: Temperature</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.temp.value[cpqHeTemperatureCelsius.Ambient.{#SNMPINDEX}]</key>
                            <delay>3m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <units>C</units>
                            <description>MIB: CPQHLTH-MIB&#13;
Temperature readings of testpoint: Ambient</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&gt;{$TEMP_CRIT:&quot;Ambient&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{max(5m)}&lt;{$TEMP_CRIT:&quot;Ambient&quot;}-3</recovery_expression>
                                    <name>Ambient: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;Ambient&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&gt;{$TEMP_WARN:&quot;Ambient&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{max(5m)}&lt;{$TEMP_WARN:&quot;Ambient&quot;}-3</recovery_expression>
                                    <name>Ambient: Temperature is above warning threshold: &gt;{$TEMP_WARN:&quot;Ambient&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                    <dependencies>
                                        <dependency>
                                            <name>Ambient: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;Ambient&quot;}</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.Ambient.{#SNMPINDEX}].avg(5m)}&gt;{$TEMP_CRIT:&quot;Ambient&quot;}</expression>
                                            <recovery_expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.Ambient.{#SNMPINDEX}].max(5m)}&lt;{$TEMP_CRIT:&quot;Ambient&quot;}-3</recovery_expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&lt;{$TEMP_CRIT_LOW:&quot;Ambient&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{min(5m)}&gt;{$TEMP_CRIT_LOW:&quot;Ambient&quot;}+3</recovery_expression>
                                    <name>Ambient: Temperature is too low: &lt;{$TEMP_CRIT_LOW:&quot;Ambient&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Temperature Discovery CPU</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]</snmp_oid>
                    <key>tempDescr.discovery.cpu</key>
                    <delay>1h</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SENSOR_LOCALE}</macro>
                                <value>6</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with cpu(6) filter</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>CPU-{#SNMPINDEX}: Temperature</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.temp.value[cpqHeTemperatureCelsius.CPU.{#SNMPINDEX}]</key>
                            <delay>3m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <units>C</units>
                            <description>MIB: CPQHLTH-MIB&#13;
Temperature readings of testpoint: CPU-{#SNMPINDEX}</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(2m)}&gt;{$TEMP_CRIT:&quot;CPU&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{last(2m)}&lt;{$TEMP_CRIT:&quot;CPU&quot;}-3</recovery_expression>
                                    <name>CPU-{#SNMPINDEX}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;CPU&quot;}</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last(2m)}&gt;{$TEMP_WARN:&quot;CPU&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{last(2m)}&lt;{$TEMP_WARN:&quot;CPU&quot;}-3</recovery_expression>
                                    <name>CPU-{#SNMPINDEX}: Temperature is above warning threshold: &gt;{$TEMP_WARN:&quot;CPU&quot;}</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                    <dependencies>
                                        <dependency>
                                            <name>CPU-{#SNMPINDEX}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;CPU&quot;}</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.CPU.{#SNMPINDEX}].last(2m)}&gt;{$TEMP_CRIT:&quot;CPU&quot;}</expression>
                                            <recovery_expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.CPU.{#SNMPINDEX}].last(2m)}&lt;{$TEMP_CRIT:&quot;CPU&quot;}-3</recovery_expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&lt;{$TEMP_CRIT_LOW:&quot;CPU&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{min(5m)}&gt;{$TEMP_CRIT_LOW:&quot;CPU&quot;}+3</recovery_expression>
                                    <name>CPU-{#SNMPINDEX}: Temperature is too low: &lt;{$TEMP_CRIT_LOW:&quot;CPU&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Temperature Discovery System</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]</snmp_oid>
                    <key>tempDescr.discovery.io</key>
                    <delay>1h</delay>
                    <status>DISABLED</status>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SENSOR_LOCALE}</macro>
                                <value>3</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with system(3) filter</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>System-{#SNMPINDEX}: Temperature</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.temp.value[cpqHeTemperatureCelsius.System.{#SNMPINDEX}]</key>
                            <delay>6m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <units>C</units>
                            <description>MIB: CPQHLTH-MIB&#13;
Temperature readings of testpoint: System-{#SNMPINDEX}</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&gt;{$TEMP_CRIT:&quot;Device&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{max(5m)}&lt;{$TEMP_CRIT:&quot;Device&quot;}-3</recovery_expression>
                                    <name>System-{#SNMPINDEX}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;Device&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&gt;{$TEMP_WARN:&quot;Device&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{max(5m)}&lt;{$TEMP_WARN:&quot;Device&quot;}-3</recovery_expression>
                                    <name>System-{#SNMPINDEX}: Temperature is above warning threshold: &gt;{$TEMP_WARN:&quot;Device&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                    <dependencies>
                                        <dependency>
                                            <name>System-{#SNMPINDEX}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;Device&quot;}</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.System.{#SNMPINDEX}].avg(5m)}&gt;{$TEMP_CRIT:&quot;Device&quot;}</expression>
                                            <recovery_expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.System.{#SNMPINDEX}].max(5m)}&lt;{$TEMP_CRIT:&quot;Device&quot;}-3</recovery_expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&lt;{$TEMP_CRIT_LOW:&quot;Device&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{min(5m)}&gt;{$TEMP_CRIT_LOW:&quot;Device&quot;}+3</recovery_expression>
                                    <name>System-{#SNMPINDEX}: Temperature is too low: &lt;{$TEMP_CRIT_LOW:&quot;Device&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Temperature Discovery Memory</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]</snmp_oid>
                    <key>tempDescr.discovery.memory</key>
                    <delay>1h</delay>
                    <status>DISABLED</status>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SENSOR_LOCALE}</macro>
                                <value>7</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with memory(7) filter</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Memory-{#SNMPINDEX}: Temperature</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.temp.value[cpqHeTemperatureCelsius.Memory.{#SNMPINDEX}]</key>
                            <delay>6m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <units>C</units>
                            <description>MIB: CPQHLTH-MIB&#13;
Temperature readings of testpoint: Memory-{#SNMPINDEX}</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&gt;{$TEMP_CRIT:&quot;Memory&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{max(5m)}&lt;{$TEMP_CRIT:&quot;Memory&quot;}-3</recovery_expression>
                                    <name>Memory-{#SNMPINDEX}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;Memory&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&gt;{$TEMP_WARN:&quot;Memory&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{max(5m)}&lt;{$TEMP_WARN:&quot;Memory&quot;}-3</recovery_expression>
                                    <name>Memory-{#SNMPINDEX}: Temperature is above warning threshold: &gt;{$TEMP_WARN:&quot;Memory&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                    <dependencies>
                                        <dependency>
                                            <name>Memory-{#SNMPINDEX}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;Memory&quot;}</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.Memory.{#SNMPINDEX}].avg(5m)}&gt;{$TEMP_CRIT:&quot;Memory&quot;}</expression>
                                            <recovery_expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.Memory.{#SNMPINDEX}].max(5m)}&lt;{$TEMP_CRIT:&quot;Memory&quot;}-3</recovery_expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&lt;{$TEMP_CRIT_LOW:&quot;Memory&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{min(5m)}&gt;{$TEMP_CRIT_LOW:&quot;Memory&quot;}+3</recovery_expression>
                                    <name>Memory-{#SNMPINDEX}: Temperature is too low: &lt;{$TEMP_CRIT_LOW:&quot;Memory&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Temperature Discovery PSU</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]</snmp_oid>
                    <key>tempDescr.discovery.psu</key>
                    <delay>1h</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SENSOR_LOCALE}</macro>
                                <value>10</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with powerSupply(10) filter</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>PSU-{#SNMPINDEX}: Temperature</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.temp.value[cpqHeTemperatureCelsius.PSU.{#SNMPINDEX}]</key>
                            <delay>6m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <units>C</units>
                            <description>MIB: CPQHLTH-MIB&#13;
Temperature readings of testpoint: PSU-{#SNMPINDEX}</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(2m)}&gt;{$TEMP_CRIT:&quot;PSU&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{last(2m)}&lt;{$TEMP_CRIT:&quot;PSU&quot;}-3</recovery_expression>
                                    <name>PSU-{#SNMPINDEX}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;PSU&quot;}</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last(2m)}&gt;{$TEMP_WARN:&quot;PSU&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{last(2m)}&lt;{$TEMP_WARN:&quot;PSU&quot;}-3</recovery_expression>
                                    <name>PSU-{#SNMPINDEX}: Temperature is above warning threshold: &gt;{$TEMP_WARN:&quot;PSU&quot;}</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                    <dependencies>
                                        <dependency>
                                            <name>PSU-{#SNMPINDEX}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;PSU&quot;}</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.PSU.{#SNMPINDEX}].last(2m)}&gt;{$TEMP_CRIT:&quot;PSU&quot;}</expression>
                                            <recovery_expression>{Template Server HP iLO SNMPv2_Backups:sensor.temp.value[cpqHeTemperatureCelsius.PSU.{#SNMPINDEX}].last(2m)}&lt;{$TEMP_CRIT:&quot;PSU&quot;}-3</recovery_expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(5m)}&lt;{$TEMP_CRIT_LOW:&quot;PSU&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>{min(5m)}&gt;{$TEMP_CRIT_LOW:&quot;PSU&quot;}+3</recovery_expression>
                                    <name>PSU-{#SNMPINDEX}: Temperature is too low: &lt;{$TEMP_CRIT_LOW:&quot;PSU&quot;}</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Virtual Disk Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.232.3.2.3.1.1.2,{#DISK_NAME},1.3.6.1.4.1.232.3.2.3.1.1.14]</snmp_oid>
                    <key>virtualdisk.discovery</key>
                    <delay>1h</delay>
                    <status>DISABLED</status>
                    <description>CPQIDA-MIB::cpqDaLogDrvTable</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Disk {#SNMPINDEX}({#DISK_NAME}): Layout type</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.3.1.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.virtualdisk.layout[cpqDaLogDrvFaultTol.{#SNMPINDEX}]</key>
                            <delay>1h</delay>
                            <history>2w</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <description>Logical Drive Fault Tolerance.&#13;
This shows the fault tolerance mode of the logical drive.</description>
                            <applications>
                                <application>
                                    <name>Virtual disks</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQIDA-MIB::cpqDaLogDrvFaultTol</name>
                            </valuemap>
                        </item_prototype>
                        <item_prototype>
                            <name>Disk {#SNMPINDEX}({#DISK_NAME}): Disk size</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.3.1.1.9.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.virtualdisk.size[cpqDaLogDrvSize.{#SNMPINDEX}]</key>
                            <delay>1h</delay>
                            <history>2w</history>
                            <trends>0d</trends>
                            <status>DISABLED</status>
                            <units>B</units>
                            <description>Logical Drive Size.&#13;
This is the size of the logical drive in megabytes.  This value&#13;
is calculated using the value 1,048,576 (2^20) as a megabyte.&#13;
Drive manufacturers sometimes use the number 1,000,000 as a&#13;
megabyte when giving drive capacities so this value may&#13;
differ from the advertised size of a drive.</description>
                            <applications>
                                <application>
                                    <name>Virtual disks</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Disk {#SNMPINDEX}({#DISK_NAME}): Status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.232.3.2.3.1.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>system.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}]</key>
                            <delay>3m</delay>
                            <history>2w</history>
                            <trends>0</trends>
                            <description>Logical Drive Status.</description>
                            <applications>
                                <application>
                                    <name>Virtual disks</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CPQIDA-MIB::cpqDaLogDrvStatus</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{count(#1,{$VDISK_CRIT_STATUS},eq)}=1</expression>
                                    <name>Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk failed</name>
                                    <status>DISABLED</status>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check virtual disk for warnings or errors</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{count(#1,{$VDISK_OK_STATUS},ne)}=1</expression>
                                    <name>Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk is not in OK state</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check virtual disk for warnings or errors</description>
                                    <dependencies>
                                        <dependency>
                                            <name>Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk failed</name>
                                            <expression>{Template Server HP iLO SNMPv2_Backups:system.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}].count(#1,{$VDISK_CRIT_STATUS},eq)}=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:&quot;capacitorFailed&quot;}</macro>
                    <value>7</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:&quot;failed&quot;}</macro>
                    <value>4</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_CACHE_BATTERY_WARN_STATUS:&quot;degraded&quot;}</macro>
                    <value>5</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_CACHE_BATTERY_WARN_STATUS:&quot;notPresent&quot;}</macro>
                    <value>6</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_CACHE_CRIT_STATUS:&quot;cacheModCriticalFailure&quot;}</macro>
                    <value>8</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_CACHE_OK_STATUS:&quot;enabled&quot;}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;cacheModDegradedFailsafeSpeed&quot;}</macro>
                    <value>7</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;cacheModFlashMemNotAttached&quot;}</macro>
                    <value>6</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;cacheReadCacheNotMapped&quot;}</macro>
                    <value>9</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_CACHE_WARN_STATUS:&quot;invalid&quot;}</macro>
                    <value>2</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_CRIT_STATUS}</macro>
                    <value>4</value>
                </macro>
                <macro>
                    <macro>{$DISK_ARRAY_WARN_STATUS}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$DISK_FAIL_STATUS}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$DISK_SMART_FAIL_STATUS:&quot;replaceDrive&quot;}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$DISK_SMART_FAIL_STATUS:&quot;replaceDriveSSDWearOut&quot;}</macro>
                    <value>4</value>
                </macro>
                <macro>
                    <macro>{$DISK_WARN_STATUS}</macro>
                    <value>4</value>
                </macro>
                <macro>
                    <macro>{$FAN_CRIT_STATUS}</macro>
                    <value>4</value>
                </macro>
                <macro>
                    <macro>{$FAN_WARN_STATUS}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$HEALTH_CRIT_STATUS}</macro>
                    <value>4</value>
                </macro>
                <macro>
                    <macro>{$HEALTH_WARN_STATUS}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$PSU_CRIT_STATUS}</macro>
                    <value>4</value>
                </macro>
                <macro>
                    <macro>{$PSU_WARN_STATUS}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$TEMP_CRIT}</macro>
                    <value>65</value>
                </macro>
                <macro>
                    <macro>{$TEMP_CRIT:&quot;Ambient&quot;}</macro>
                    <value>35</value>
                </macro>
                <macro>
                    <macro>{$TEMP_CRIT_LOW}</macro>
                    <value>5</value>
                </macro>
                <macro>
                    <macro>{$TEMP_WARN}</macro>
                    <value>55</value>
                </macro>
                <macro>
                    <macro>{$TEMP_WARN:&quot;Ambient&quot;}</macro>
                    <value>30</value>
                </macro>
                <macro>
                    <macro>{$VDISK_CRIT_STATUS}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$VDISK_OK_STATUS}</macro>
                    <value>2</value>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template Symantec Backup Exec 2012_Backup</template>
            <name>Template Symantec Backup Exec 2012_Backup</name>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Symantec BackupExec Jobs</name>
                </application>
                <application>
                    <name>Symantec BackupExec Services</name>
                </application>
                <application>
                    <name>Symantec BackupExec Storage</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>TapeLibrary free space</name>
                    <key>sbe.run[&quot;libraryspace&quot;]</key>
                    <delay>1h</delay>
                    <history>30d</history>
                    <trends>0</trends>
                    <units>B</units>
                    <applications>
                        <application>
                            <name>Symantec BackupExec Storage</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;{$SPACE_THRESHOLD}</expression>
                            <name>    (&lt;4)</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Service Backup Exec Agent Browser</name>
                    <key>service_state[&quot;BackupExecAgentBrowser&quot;]</key>
                    <history>30d</history>
                    <trends>0</trends>
                    <applications>
                        <application>
                            <name>Symantec BackupExec Services</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>Windows service state</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{sum(10m)}&gt;30</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last()}=0</recovery_expression>
                            <name>Service Backup Exec Agent Browser </name>
                            <priority>HIGH</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Service Backup Exec Device &amp; Media</name>
                    <key>service_state[&quot;BackupExecDeviceMediaService&quot;]</key>
                    <history>30d</history>
                    <trends>0</trends>
                    <applications>
                        <application>
                            <name>Symantec BackupExec Services</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>Windows service state</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{sum(10m)}&gt;30</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last()}=0</recovery_expression>
                            <name>Service Backup Exec Device &amp; Media </name>
                            <priority>DISASTER</priority>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>service</tag>
                                    <value>itservices</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Service Backup Exec Job Engine</name>
                    <key>service_state[&quot;BackupExecJobEngine&quot;]</key>
                    <history>30d</history>
                    <trends>0</trends>
                    <applications>
                        <application>
                            <name>Symantec BackupExec Services</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>Windows service state</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{sum(10m)}&gt;30</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last()}=0</recovery_expression>
                            <name>Service Backup Exec Job Engine </name>
                            <priority>DISASTER</priority>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>service</tag>
                                    <value>itservices</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Service Backup Exec Management</name>
                    <key>service_state[&quot;BackupExecManagementService&quot;]</key>
                    <history>30d</history>
                    <trends>0</trends>
                    <applications>
                        <application>
                            <name>Symantec BackupExec Services</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>Windows service state</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{sum(10m)}&gt;30</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last()}=0</recovery_expression>
                            <name>Service Backup Exec Management </name>
                            <priority>DISASTER</priority>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>service</tag>
                                    <value>itservices</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Service Backup Exec Server</name>
                    <key>service_state[&quot;BackupExecRPCService&quot;]</key>
                    <history>30d</history>
                    <trends>0</trends>
                    <applications>
                        <application>
                            <name>Symantec BackupExec Services</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>Windows service state</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{sum(10m)}&gt;30</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>{last()}=0</recovery_expression>
                            <name>Service Backup Exec Server </name>
                            <priority>DISASTER</priority>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>service</tag>
                                    <value>itservices</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Backup tasks discovery</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>sbe.run[&quot;discovery&quot;]</key>
                    <delay>1h</delay>
                    <description>  Symantec Backup Exec 2012</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>End time &quot;{#JOBNAME}&quot;</name>
                            <key>sbe.run[lastendtime,{#JOBNAME}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <units>unixtime</units>
                            <applications>
                                <application>
                                    <name>Symantec BackupExec Jobs</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Task status &quot;{#JOBNAME}&quot;</name>
                            <key>sbe.run[status,{#JOBNAME}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>Symantec BackupExec Jobs</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;&gt;2 and {last(#1,1d)}&lt;&gt;2</expression>
                                    <name>Task failed &quot;{#JOBNAME}&quot;</name>
                                    <priority>HIGH</priority>
                                    <description>     -  </description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Task type &quot;{#JOBNAME}&quot;</name>
                            <key>sbe.run[tasktype,{#JOBNAME}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <applications>
                                <application>
                                    <name>Symantec BackupExec Jobs</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
        <template>
            <template>Template VEEAM - Backup and Replication_Backup</template>
            <name>Template VEEAM - Backup and Replication_Backup</name>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                </application>
                <application>
                    <name>VEEAM Backup &amp; Recovery - Backup Job(s) By VMs</name>
                </application>
                <application>
                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s)</name>
                </application>
                <application>
                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s) By VMs</name>
                </application>
                <application>
                    <name>VEEAM Backup &amp; Recovery - EndPoint Backup job(s)</name>
                </application>
                <application>
                    <name>VEEAM Backup &amp; Recovery - Replica Job(s)</name>
                </application>
                <application>
                    <name>VEEAM Backup &amp; Recovery - Tape job(s)</name>
                </application>
                <application>
                    <name>VEEAM Discovery Mechanics</name>
                </application>
                <application>
                    <name>VEEAM Repository</name>
                </application>
                <application>
                    <name>VEEAM Services</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Result Export Xml Veeam</name>
                    <key>system.run[powershell -NoProfile -ExecutionPolicy Bypass -File &quot;C:\zabbix\scripts\zabbix_vbr_job.ps1&quot; exportxml,nowait]</key>
                    <delay>1d</delay>
                    <history>30d</history>
                    <trends>0</trends>
                    <applications>
                        <application>
                            <name>VEEAM Repository</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;1</expression>
                            <name>Export XML Veeam Error</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Number of active jobs</name>
                    <key>vbr[&quot;RunningJob&quot;]</key>
                    <delay>5m</delay>
                    <history>30d</history>
                    <trends>0</trends>
                    <units>job(s)</units>
                    <applications>
                        <application>
                            <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Number of jobs (Total)</name>
                    <key>vbr[JobsCount]</key>
                    <delay>1h</delay>
                    <history>30d</history>
                    <trends>0</trends>
                    <units>job(s)</units>
                    <applications>
                        <application>
                            <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>86400</params>
                        </step>
                    </preprocessing>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>VEEAM Services</name>
                    <key>service.discovery</key>
                    <delay>1h</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>Veeam</value>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>Dnscache</value>
                                <formulaid>B</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>Zabbix Agent</value>
                                <formulaid>C</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>LanmanServer</value>
                                <formulaid>D</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>gpsvc</value>
                                <formulaid>E</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>Bareos-fd,state</value>
                                <formulaid>F</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Status {#SERVICE.DISPLAYNAME}</name>
                            <key>service.info[{#SERVICE.NAME},state]</key>
                            <history>7d</history>
                            <trends>7d</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Services</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{min(#5)}&lt;&gt;0</expression>
                                    <name>{#SERVICE.DISPLAYNAME} is not running (start type {#SERVICE.STARTUPNAME})</name>
                                    <priority>HIGH</priority>
                                    <manual_close>YES</manual_close>
                                    <tags>
                                        <tag>
                                            <tag>service</tag>
                                            <value>itservices</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>VEEAM Backup Jobs</name>
                    <key>vbr[&quot;DiscoveryBackupJobs&quot;]</key>
                    <delay>1h</delay>
                    <lifetime>5d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Excluded size in job {#JOBNAME}</name>
                            <key>vbr[ExcludedSize,{#JOBID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <units>bytes</units>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Included size in the job : {#JOBNAME}</name>
                            <key>vbr[IncludedSize,{#JOBID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <units>bytes</units>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Next run time job : {#JOBNAME}</name>
                            <key>vbr[NextRunTime,{#JOBID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <units>unixtime</units>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Result backup {#JOBNAME}</name>
                            <key>vbr[ResultBackup,{#JOBID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{avg(300)}&lt;1</expression>
                                    <name>Backup {#JOBNAME} Failed</name>
                                    <priority>HIGH</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(300)}&gt;0 and {avg(300)}&lt;2</expression>
                                    <name>Backup {#JOBNAME} Warning</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{nodata(7200)}=1</expression>
                                    <name>Veeam Backup Data Recovery Problem</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Job execution status {#JOBNAME}</name>
                            <key>vbr[RunStatus,{#JOBID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{avg(28800)}=1</expression>
                                    <name>The VEEAM work {#JOBNAME} is still running (8h)</name>
                                    <status>DISABLED</status>
                                    <discover>NO_DISCOVER</discover>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Type of backup {#JOBNAME}</name>
                            <key>vbr[Type,{#JOBID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Number of VMs in job : {#JOBNAME}</name>
                            <key>vbr[VmCount,{#JOBNAME}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <units>vm(s)</units>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Number of VMs Failed {#JOBNAME}</name>
                            <key>vbr[VmCountResultBackup,{#JOBNAME},Failed]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Number of VMs Warning {#JOBNAME}</name>
                            <key>vbr[VmCountResultBackup,{#JOBNAME},Warning]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Backup Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>VEEAM BackupSync Jobs</name>
                    <key>vbr[&quot;DiscoveryBackupSyncJobs&quot;]</key>
                    <delay>1h</delay>
                    <status>DISABLED</status>
                    <lifetime>5d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Excluded size in job {#JOBBSNAME}</name>
                            <key>vbr[ExcludedSize,{#JOBBSID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <units>bytes</units>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Included size in the job {#JOBBSNAME}</name>
                            <key>vbr[IncludedSize,{#JOBBSID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <units>bytes</units>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Result backup {#JOBBSNAME}</name>
                            <key>vbr[ResultBackupSync,{#JOBBSID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{avg(300)}&lt;1</expression>
                                    <name>Backup {#JOBBSNAME} Failed</name>
                                    <status>DISABLED</status>
                                    <priority>HIGH</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(300)}&gt;0 and {avg(300)}&lt;2</expression>
                                    <name>Backup {#JOBBSNAME} Warning</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{nodata(7200)}=1</expression>
                                    <name>Veeam Backup Data Recovery Problem</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Job execution status {#JOBBSNAME}</name>
                            <key>vbr[RunStatus,{#JOBBSID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Type of backup {#JOBBSNAME}</name>
                            <key>vbr[Type,{#JOBBSID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Number of VMs in job {#JOBBSNAME}</name>
                            <key>vbr[VmCount,{#JOBBSNAME}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <units>vm(s)</units>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Number of VMs Failed {#JOBBSNAME}</name>
                            <key>vbr[VmCountResultBackupSync,{#JOBBSNAME},Failed]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Number of VMs Warning {#JOBBSNAME}</name>
                            <key>vbr[VmCountResultBackupSync,{#JOBBSNAME},Warning]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>VEEAM BackupSync By VMs</name>
                    <key>vbr[&quot;DiscoveryBackupVmsByJobs&quot;,&quot;BackupSync&quot;]</key>
                    <delay>1h</delay>
                    <status>DISABLED</status>
                    <lifetime>5d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Job {#JOBNAME} - Result {#JOBVMNAME}</name>
                            <key>vbr[VMResultBackupSync,&quot;{#JOBVMNAME}&quot;,&quot;{#JOBNAME}&quot;]</key>
                            <delay>10m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - BackupSync Job(s) By VMs</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>VEEAM Backup By VMs</name>
                    <key>vbr[&quot;DiscoveryBackupVmsByJobs&quot;]</key>
                    <delay>1h</delay>
                    <status>DISABLED</status>
                    <lifetime>5d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Job {#JOBNAME} - Result {#JOBVMNAME}</name>
                            <key>vbr[VMResultBackup,&quot;{#JOBVMNAME}&quot;,&quot;{#JOBNAME}&quot;]</key>
                            <delay>10m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Backup Job(s) By VMs</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>VEEAM EndpointBackup Jobs</name>
                    <key>vbr[&quot;DiscoveryEndpointJobs&quot;]</key>
                    <delay>1h</delay>
                    <lifetime>5d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Result backup {#JOBENDPOINTNAME}</name>
                            <key>vbr[ResultEndpoint,{#JOBENDPOINTID}]</key>
                            <delay>10m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - EndPoint Backup job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{avg(300)}&lt;1</expression>
                                    <name>Backup {#JOBENDPOINTNAME} Failed</name>
                                    <priority>HIGH</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(300)}&gt;0 and {avg(300)}&lt;2</expression>
                                    <name>Backup {#JOBENDPOINTNAME} Warning</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{nodata(7200)}=1</expression>
                                    <name>Veeam Backup Data Recovery Problem</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Job execution status {#JOBENDPOINTNAME}</name>
                            <key>vbr[RunStatus,{#JOBENDPOINTID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - EndPoint Backup job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Type of backup {#JOBENDPOINTNAME}</name>
                            <key>vbr[Type,{#JOBENDPOINTID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - EndPoint Backup job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>VEEAM ReplicaBackup Jobs</name>
                    <key>vbr[&quot;DiscoveryReplicaJobs&quot;]</key>
                    <delay>1h</delay>
                    <status>DISABLED</status>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Result backup {#JOBREPLICANAME}</name>
                            <key>vbr[ResultReplica,{#JOBREPLICAID}]</key>
                            <delay>10m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Replica Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{avg(300)}&lt;1</expression>
                                    <name>Backup {#JOBREPLICANAME} Failed</name>
                                    <status>DISABLED</status>
                                    <priority>HIGH</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(300)}&gt;0 and {avg(300)}&lt;2</expression>
                                    <name>Backup {#JOBREPLICANAME} Warning</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{nodata(7200)}=1</expression>
                                    <name>Veeam Backup Data Recovery Problem</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Job execution status {#JOBREPLICANAME}</name>
                            <key>vbr[RunStatus,{#JOBREPLICAID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Replica Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Type of backup {#JOBREPLICANAME}</name>
                            <key>vbr[Type,{#JOBREPLICAID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Replica Job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>VEEAM Repository</name>
                    <key>vbr[&quot;DiscoveryRepo&quot;]</key>
                    <delay>1h</delay>
                    <status>DISABLED</status>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Total repository space {#REPONAME}</name>
                            <key>vbr[RepoCapacity,&quot;{#REPONAME}&quot;]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>VEEAM Repository</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Remaining space repository {#REPONAME}</name>
                            <key>vbr[RepoFree,&quot;{#REPONAME}&quot;]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>VEEAM Repository</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;1024000000000</expression>
                                    <name>Less than 2Gb remaining on the repository {#REPONAME}</name>
                                    <status>DISABLED</status>
                                    <priority>HIGH</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>VEEAM Tape jobs</name>
                    <key>vbr[&quot;DiscoveryTapeJobs&quot;]</key>
                    <delay>1h</delay>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Result backup {#JOBTAPENAME}</name>
                            <key>vbr[ResultTape,{#JOBTAPEID}]</key>
                            <delay>10m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Tape job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{avg(300)}&lt;1</expression>
                                    <name>Backup {#JOBTAPENAME} Failed</name>
                                    <status>DISABLED</status>
                                    <priority>HIGH</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{avg(300)}&gt;0 and {avg(300)}&lt;2</expression>
                                    <name>Backup {#JOBTAPENAME} Warning</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{nodata(7200)}=1</expression>
                                    <name>Veeam Backup Data Recovery Problem</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Job execution status {#JOBTAPENAME}</name>
                            <key>vbr[RunStatus,{#JOBTAPEID}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>VEEAM Backup &amp; Recovery - Tape job(s)</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
        <template>
            <template>Template Windows Task Scheduled_Backup</template>
            <name>Template Windows Task Scheduled_Backup</name>
            <description>Discover and monitor all Task from &quot;Task Scheduler Library&quot; with subfolders indicate in powershell script.</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Task Scheduled</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>TaskSchedulerALLStatus</name>
                    <key>TaskSchedulerMonitoring[AllResult]</key>
                    <delay>10m</delay>
                    <history>7d</history>
                    <trends>7d</trends>
                    <applications>
                        <application>
                            <name>Task Scheduled</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{last()}&gt;0</expression>
                            <name>Error in TaskScheduler job</name>
                            <priority>HIGH</priority>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>service</tag>
                                    <value>itservices</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Discovery Task Scheduler</name>
                    <key>TaskSchedulerMonitoring[discovertasks]</key>
                    <delay>1h</delay>
                    <lifetime>5d</lifetime>
                    <description>Discover all Task at &quot;Task Scheduler Libraray&quot; with Subfolders indicate in powershell script.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Task: {#APPTASKS}: Last Result</name>
                            <key>TaskSchedulerMonitoring[TaskLastResult,&quot;{#APPTASKS}&quot;]</key>
                            <delay>10m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <description>Last Result of Task, numeric value&#13;
 in most cases 0 = succesfull</description>
                            <applications>
                                <application>
                                    <name>Task Scheduled</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;&gt;0 and {last()}&lt;&gt;267009 and {last()}&lt;&gt;267011 and {last()}&lt;&gt;2147946720 and {last()}&lt;&gt;1</expression>
                                    <name>Last run of {#APPTASKS} with error!</name>
                                    <priority>HIGH</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Task: {#APPTASKS}: Last Run Time</name>
                            <key>TaskSchedulerMonitoring[TaskLastRunTime,{#APPTASKS}]</key>
                            <delay>10m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <value_type>FLOAT</value_type>
                            <units>unixtime</units>
                            <description>Last Run Time of Task as an unixtimestamp</description>
                            <applications>
                                <application>
                                    <name>Task Scheduled</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Task: {#APPTASKS}: Next Run Time</name>
                            <key>TaskSchedulerMonitoring[TaskNextRunTime,{#APPTASKS}]</key>
                            <delay>10m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <units>unixtime</units>
                            <description>Next Run Time of Task as an unixtimestamp</description>
                            <applications>
                                <application>
                                    <name>Task Scheduled</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
        <template>
            <template>Template Windows VeeamAgentFree_Backup</template>
            <name>Template Windows VeeamAgentFree_Backup</name>
            <description>VeeamAgentFree Result from exchenge 2013 mail</description>
            <groups>
                <group>
                    <name>Service.Backup</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>FreeVeeamAgent</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Result Export Xml VeeamAgentFree</name>
                    <key>system.run[powershell -NoProfile -ExecutionPolicy Bypass -File &quot;C:\zabbix\scripts\VeeamAgentFreeToZabbix.ps1&quot; exportxml,nowait]</key>
                    <delay>30m</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <applications>
                        <application>
                            <name>FreeVeeamAgent</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;1</expression>
                            <name>Export XML VeeamAgentFree Error</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>JobSchedulerALLStatus</name>
                    <key>VeeamAgentFreeToZabbix[AllResult]</key>
                    <delay>15m</delay>
                    <history>7d</history>
                    <trends>7d</trends>
                    <applications>
                        <application>
                            <name>FreeVeeamAgent</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{last()}&gt;0</expression>
                            <name>Error in VeeamAgentFree jobs</name>
                            <priority>HIGH</priority>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>service</tag>
                                    <value>itservices</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Discovery VeeamAgentFree jobs</name>
                    <key>VeeamAgentFreeToZabbix[DiscoverJobs]</key>
                    <delay>1h</delay>
                    <lifetime>5d</lifetime>
                    <description>Discover all Task at &quot;Task Scheduler Libraray&quot; with Subfolders indicate in powershell script.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#APPTASKS}: Last Result</name>
                            <key>VeeamAgentFreeToZabbix[JobLastResult,&quot;{#APPTASKS}&quot;]</key>
                            <delay>15m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <description>Last Result of Task, numeric value&#13;
 in most cases 0 = succesfull</description>
                            <applications>
                                <application>
                                    <name>FreeVeeamAgent</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&gt;0</expression>
                                    <name>Last run of {#APPTASKS} with error!</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#APPTASKS}: Last Run Time</name>
                            <key>VeeamAgentFreeToZabbix[JobLastRunTime,{#APPTASKS}]</key>
                            <delay>15m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <discover>NO_DISCOVER</discover>
                            <value_type>FLOAT</value_type>
                            <units>unixtime</units>
                            <description>Last Run Time of Task as an unixtimestamp</description>
                            <applications>
                                <application>
                                    <name>FreeVeeamAgent</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>86400</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
    </templates>
    <triggers>
        <trigger>
            <expression>{Template Module Windows memory by Zabbix agent_Backup:system.swap.size[,pfree].min(5m)}&lt;{$SWAP.PFREE.MIN.WARN} and {Template Module Windows memory by Zabbix agent_Backup:system.swap.size[,total].last()}&gt;0</expression>
            <name>High swap space usage ( less than {$SWAP.PFREE.MIN.WARN}% free)</name>
            <opdata>Free: {ITEM.LASTVALUE1}, total: {ITEM.LASTVALUE2}</opdata>
            <status>DISABLED</status>
            <priority>INFO</priority>
            <description>This trigger is ignored, if there is no swap configured</description>
            <dependencies>
                <dependency>
                    <name>High memory utilization ( &gt;{$MEMORY.UTIL.MAX}% for 5m)</name>
                    <expression>{Template Module Windows memory by Zabbix agent_Backup:vm.memory.util.min(5m)}&gt;{$MEMORY.UTIL.MAX}</expression>
                </dependency>
            </dependencies>
        </trigger>
    </triggers>
    <value_maps>
        <value_map>
            <name>CPQHLTH-MIB::cpqHeTemperatureLocale</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>unknown</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>system</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>systemBoard</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>ioBoard</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>cpu</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>memory</newvalue>
                </mapping>
                <mapping>
                    <value>8</value>
                    <newvalue>storage</newvalue>
                </mapping>
                <mapping>
                    <value>9</value>
                    <newvalue>removableMedia</newvalue>
                </mapping>
                <mapping>
                    <value>10</value>
                    <newvalue>powerSupply</newvalue>
                </mapping>
                <mapping>
                    <value>11</value>
                    <newvalue>ambient</newvalue>
                </mapping>
                <mapping>
                    <value>12</value>
                    <newvalue>chassis</newvalue>
                </mapping>
                <mapping>
                    <value>13</value>
                    <newvalue>bridgeCard</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CPQIDA-MIB::cpqDaAccelBattery</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>Other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Ok</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>Recharging</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>Failed</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>Degraded</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>Not Present</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>Capacitor failed</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CPQIDA-MIB::cpqDaAccelStatus</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>invalid</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>enabled</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>tmpDisabled</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>permDisabled</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>cacheModFlashMemNotAttached</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>cacheModDegradedFailsafeSpeed</newvalue>
                </mapping>
                <mapping>
                    <value>8</value>
                    <newvalue>cacheModCriticalFailure</newvalue>
                </mapping>
                <mapping>
                    <value>9</value>
                    <newvalue>cacheReadCacheNotMapped</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CPQIDA-MIB::cpqDaCntlrModel</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>ida</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>idaExpansion</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>ida-2</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>smart</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>smart-2e</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>smart-2p</newvalue>
                </mapping>
                <mapping>
                    <value>8</value>
                    <newvalue>smart-2sl</newvalue>
                </mapping>
                <mapping>
                    <value>9</value>
                    <newvalue>smart-3100es</newvalue>
                </mapping>
                <mapping>
                    <value>10</value>
                    <newvalue>smart-3200</newvalue>
                </mapping>
                <mapping>
                    <value>11</value>
                    <newvalue>smart-2dh</newvalue>
                </mapping>
                <mapping>
                    <value>12</value>
                    <newvalue>smart-221</newvalue>
                </mapping>
                <mapping>
                    <value>13</value>
                    <newvalue>sa-4250es</newvalue>
                </mapping>
                <mapping>
                    <value>14</value>
                    <newvalue>sa-4200</newvalue>
                </mapping>
                <mapping>
                    <value>15</value>
                    <newvalue>sa-integrated</newvalue>
                </mapping>
                <mapping>
                    <value>16</value>
                    <newvalue>sa-431</newvalue>
                </mapping>
                <mapping>
                    <value>17</value>
                    <newvalue>sa-5300</newvalue>
                </mapping>
                <mapping>
                    <value>18</value>
                    <newvalue>raidLc2</newvalue>
                </mapping>
                <mapping>
                    <value>19</value>
                    <newvalue>sa-5i</newvalue>
                </mapping>
                <mapping>
                    <value>20</value>
                    <newvalue>sa-532</newvalue>
                </mapping>
                <mapping>
                    <value>21</value>
                    <newvalue>sa-5312</newvalue>
                </mapping>
                <mapping>
                    <value>22</value>
                    <newvalue>sa-641</newvalue>
                </mapping>
                <mapping>
                    <value>23</value>
                    <newvalue>sa-642</newvalue>
                </mapping>
                <mapping>
                    <value>24</value>
                    <newvalue>sa-6400</newvalue>
                </mapping>
                <mapping>
                    <value>25</value>
                    <newvalue>sa-6400em</newvalue>
                </mapping>
                <mapping>
                    <value>26</value>
                    <newvalue>sa-6i</newvalue>
                </mapping>
                <mapping>
                    <value>27</value>
                    <newvalue>sa-generic</newvalue>
                </mapping>
                <mapping>
                    <value>29</value>
                    <newvalue>sa-p600</newvalue>
                </mapping>
                <mapping>
                    <value>30</value>
                    <newvalue>sa-p400</newvalue>
                </mapping>
                <mapping>
                    <value>31</value>
                    <newvalue>sa-e200</newvalue>
                </mapping>
                <mapping>
                    <value>32</value>
                    <newvalue>sa-e200i</newvalue>
                </mapping>
                <mapping>
                    <value>33</value>
                    <newvalue>sa-p400i</newvalue>
                </mapping>
                <mapping>
                    <value>34</value>
                    <newvalue>sa-p800</newvalue>
                </mapping>
                <mapping>
                    <value>35</value>
                    <newvalue>sa-e500</newvalue>
                </mapping>
                <mapping>
                    <value>36</value>
                    <newvalue>sa-p700m</newvalue>
                </mapping>
                <mapping>
                    <value>37</value>
                    <newvalue>sa-p212</newvalue>
                </mapping>
                <mapping>
                    <value>38</value>
                    <newvalue>sa-p410</newvalue>
                </mapping>
                <mapping>
                    <value>39</value>
                    <newvalue>sa-p410i</newvalue>
                </mapping>
                <mapping>
                    <value>40</value>
                    <newvalue>sa-p411</newvalue>
                </mapping>
                <mapping>
                    <value>41</value>
                    <newvalue>sa-b110i</newvalue>
                </mapping>
                <mapping>
                    <value>42</value>
                    <newvalue>sa-p712m</newvalue>
                </mapping>
                <mapping>
                    <value>43</value>
                    <newvalue>sa-p711m</newvalue>
                </mapping>
                <mapping>
                    <value>44</value>
                    <newvalue>sa-p812</newvalue>
                </mapping>
                <mapping>
                    <value>45</value>
                    <newvalue>sw-1210m</newvalue>
                </mapping>
                <mapping>
                    <value>46</value>
                    <newvalue>sa-p220i</newvalue>
                </mapping>
                <mapping>
                    <value>47</value>
                    <newvalue>sa-p222</newvalue>
                </mapping>
                <mapping>
                    <value>48</value>
                    <newvalue>sa-p420</newvalue>
                </mapping>
                <mapping>
                    <value>49</value>
                    <newvalue>sa-p420i</newvalue>
                </mapping>
                <mapping>
                    <value>50</value>
                    <newvalue>sa-p421</newvalue>
                </mapping>
                <mapping>
                    <value>51</value>
                    <newvalue>sa-b320i</newvalue>
                </mapping>
                <mapping>
                    <value>52</value>
                    <newvalue>sa-p822</newvalue>
                </mapping>
                <mapping>
                    <value>53</value>
                    <newvalue>sa-p721m</newvalue>
                </mapping>
                <mapping>
                    <value>54</value>
                    <newvalue>sa-b120i</newvalue>
                </mapping>
                <mapping>
                    <value>55</value>
                    <newvalue>hps-1224</newvalue>
                </mapping>
                <mapping>
                    <value>56</value>
                    <newvalue>hps-1228</newvalue>
                </mapping>
                <mapping>
                    <value>57</value>
                    <newvalue>hps-1228m</newvalue>
                </mapping>
                <mapping>
                    <value>58</value>
                    <newvalue>sa-p822se</newvalue>
                </mapping>
                <mapping>
                    <value>59</value>
                    <newvalue>hps-1224e</newvalue>
                </mapping>
                <mapping>
                    <value>60</value>
                    <newvalue>hps-1228e</newvalue>
                </mapping>
                <mapping>
                    <value>61</value>
                    <newvalue>hps-1228em</newvalue>
                </mapping>
                <mapping>
                    <value>62</value>
                    <newvalue>sa-p230i</newvalue>
                </mapping>
                <mapping>
                    <value>63</value>
                    <newvalue>sa-p430i</newvalue>
                </mapping>
                <mapping>
                    <value>64</value>
                    <newvalue>sa-p430</newvalue>
                </mapping>
                <mapping>
                    <value>65</value>
                    <newvalue>sa-p431</newvalue>
                </mapping>
                <mapping>
                    <value>66</value>
                    <newvalue>sa-p731m</newvalue>
                </mapping>
                <mapping>
                    <value>67</value>
                    <newvalue>sa-p830i</newvalue>
                </mapping>
                <mapping>
                    <value>68</value>
                    <newvalue>sa-p830</newvalue>
                </mapping>
                <mapping>
                    <value>69</value>
                    <newvalue>sa-p831</newvalue>
                </mapping>
                <mapping>
                    <value>70</value>
                    <newvalue>sa-p530</newvalue>
                </mapping>
                <mapping>
                    <value>71</value>
                    <newvalue>sa-p531</newvalue>
                </mapping>
                <mapping>
                    <value>72</value>
                    <newvalue>sa-p244br</newvalue>
                </mapping>
                <mapping>
                    <value>73</value>
                    <newvalue>sa-p246br</newvalue>
                </mapping>
                <mapping>
                    <value>74</value>
                    <newvalue>sa-p440</newvalue>
                </mapping>
                <mapping>
                    <value>75</value>
                    <newvalue>sa-p440ar</newvalue>
                </mapping>
                <mapping>
                    <value>76</value>
                    <newvalue>sa-p441</newvalue>
                </mapping>
                <mapping>
                    <value>77</value>
                    <newvalue>sa-p741m</newvalue>
                </mapping>
                <mapping>
                    <value>78</value>
                    <newvalue>sa-p840</newvalue>
                </mapping>
                <mapping>
                    <value>79</value>
                    <newvalue>sa-p841</newvalue>
                </mapping>
                <mapping>
                    <value>80</value>
                    <newvalue>sh-h240ar</newvalue>
                </mapping>
                <mapping>
                    <value>81</value>
                    <newvalue>sh-h244br</newvalue>
                </mapping>
                <mapping>
                    <value>82</value>
                    <newvalue>sh-h240</newvalue>
                </mapping>
                <mapping>
                    <value>83</value>
                    <newvalue>sh-h241</newvalue>
                </mapping>
                <mapping>
                    <value>84</value>
                    <newvalue>sa-b140i</newvalue>
                </mapping>
                <mapping>
                    <value>85</value>
                    <newvalue>sh-generic</newvalue>
                </mapping>
                <mapping>
                    <value>88</value>
                    <newvalue>sa-p840ar</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CPQIDA-MIB::cpqDaLogDrvFaultTol</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>none</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>RAID-1/RAID-10</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>RAID-4</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>RAID-5</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>RAID-6</newvalue>
                </mapping>
                <mapping>
                    <value>8</value>
                    <newvalue>RAID-50</newvalue>
                </mapping>
                <mapping>
                    <value>9</value>
                    <newvalue>RAID-60</newvalue>
                </mapping>
                <mapping>
                    <value>10</value>
                    <newvalue>RAID-1 ADM</newvalue>
                </mapping>
                <mapping>
                    <value>11</value>
                    <newvalue>RAID-10 ADM</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CPQIDA-MIB::cpqDaLogDrvStatus</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>ok</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>failed</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>unconfigured</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>recovering</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>readyForRebuild</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>rebuilding</newvalue>
                </mapping>
                <mapping>
                    <value>8</value>
                    <newvalue>wrongDrive</newvalue>
                </mapping>
                <mapping>
                    <value>9</value>
                    <newvalue>badConnect</newvalue>
                </mapping>
                <mapping>
                    <value>10</value>
                    <newvalue>overheating</newvalue>
                </mapping>
                <mapping>
                    <value>11</value>
                    <newvalue>shutdown</newvalue>
                </mapping>
                <mapping>
                    <value>12</value>
                    <newvalue>expanding</newvalue>
                </mapping>
                <mapping>
                    <value>13</value>
                    <newvalue>notAvailable</newvalue>
                </mapping>
                <mapping>
                    <value>14</value>
                    <newvalue>queuedForExpansion</newvalue>
                </mapping>
                <mapping>
                    <value>15</value>
                    <newvalue>multipathAccessDegraded</newvalue>
                </mapping>
                <mapping>
                    <value>16</value>
                    <newvalue>erasing</newvalue>
                </mapping>
                <mapping>
                    <value>17</value>
                    <newvalue>predictiveSpareRebuildReady</newvalue>
                </mapping>
                <mapping>
                    <value>18</value>
                    <newvalue>rapidParityInitInProgress</newvalue>
                </mapping>
                <mapping>
                    <value>19</value>
                    <newvalue>rapidParityInitPending</newvalue>
                </mapping>
                <mapping>
                    <value>20</value>
                    <newvalue>noAccessEncryptedNoCntlrKey</newvalue>
                </mapping>
                <mapping>
                    <value>21</value>
                    <newvalue>unencryptedToEncryptedInProgress</newvalue>
                </mapping>
                <mapping>
                    <value>22</value>
                    <newvalue>newLogDrvKeyRekeyInProgress</newvalue>
                </mapping>
                <mapping>
                    <value>23</value>
                    <newvalue>noAccessEncryptedCntlrEncryptnNotEnbld</newvalue>
                </mapping>
                <mapping>
                    <value>24</value>
                    <newvalue>unencryptedToEncryptedNotStarted</newvalue>
                </mapping>
                <mapping>
                    <value>25</value>
                    <newvalue>newLogDrvKeyRekeyRequestReceived</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CPQIDA-MIB::cpqDaPhyDrvMediaType</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>Other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>rotatingPlatters</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>solidState</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CPQIDA-MIB::cpqDaPhyDrvSmartStatus</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>ok</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>replaceDrive</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>replaceDriveSSDWearOut</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CPQIDA-MIB::cpqDaPhyDrvStatus</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>ok</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>failed</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>predictiveFailure</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CPQSINFO-MIB::status</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>other</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>ok</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>degraded</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>failed</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>LSI RAID BBU &amp; LD Status</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Optimal</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Failed</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>LSI RAID PhysDrv Status</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>(Online|Hostpare|Unconfigured good)</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Failed</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Rebuild</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>Service state</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Down</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Up</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>Win32_NetworkAdapter::AdapterTypeId</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Ethernet 802.3</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Token Ring 802.5</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Fiber Distributed Data Interface (FDDI)</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>Wide Area Network (WAN)</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>LocalTalk</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>Ethernet using DIX header format</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>ARCNET</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>ARCNET (878.2)</newvalue>
                </mapping>
                <mapping>
                    <value>8</value>
                    <newvalue>ATM</newvalue>
                </mapping>
                <mapping>
                    <value>9</value>
                    <newvalue>Wireless</newvalue>
                </mapping>
                <mapping>
                    <value>10</value>
                    <newvalue>Infrared Wireless</newvalue>
                </mapping>
                <mapping>
                    <value>11</value>
                    <newvalue>Bpc</newvalue>
                </mapping>
                <mapping>
                    <value>12</value>
                    <newvalue>CoWan</newvalue>
                </mapping>
                <mapping>
                    <value>13</value>
                    <newvalue>1394</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>Win32_NetworkAdapter::NetConnectionStatus</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Disconnected</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Connecting</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Connected</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>Disconnecting</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>Hardware Not Present</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>Hardware Disabled</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>Hardware Malfunction</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>Media Disconnected</newvalue>
                </mapping>
                <mapping>
                    <value>8</value>
                    <newvalue>Authenticating</newvalue>
                </mapping>
                <mapping>
                    <value>9</value>
                    <newvalue>Authentication Succeeded</newvalue>
                </mapping>
                <mapping>
                    <value>10</value>
                    <newvalue>Authentication Failed</newvalue>
                </mapping>
                <mapping>
                    <value>11</value>
                    <newvalue>Invalid Address</newvalue>
                </mapping>
                <mapping>
                    <value>12</value>
                    <newvalue>Credentials Required</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>Windows service state</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Running</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Paused</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Start pending</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>Pause pending</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>Continue pending</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>Stop pending</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>Stopped</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>Unknown</newvalue>
                </mapping>
                <mapping>
                    <value>255</value>
                    <newvalue>No such service</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>zabbix.host.available</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>not available</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>available</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>unknown</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>Zabbix agent ping status</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>Up</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
